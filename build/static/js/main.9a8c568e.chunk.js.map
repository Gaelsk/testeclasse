{"version":3,"sources":["images/logo.jpg","images/3.jpg","utils/validator.js","images/1.jpg","images/4.jpg","images/pdf-img.jpg","ScrollToTop.js","components/course/CourseCard.js","components/layout/NavBar.js","components/layout/Layout.js","config/firebase.js","firebase.js","redux/actions/course.js","redux/types.js","pages/home.js","redux/actions/user.js","pages/login.js","pages/signup.js","components/layout/Avatar.js","pages/profile.js","utils/moment.js","components/layout/Btn.js","components/course/DeleteComment.js","components/course/Comments.js","components/course/Download.js","components/utils/Btn.js","hooks/useStorage.js","components/admin/AddExercice.js","components/admin/DeleteExercice.js","components/course/ExerciceList.js","utils/getCoverImage.js","components/layout/AdModal.js","components/course/RateCourse.js","pages/course.js","components/layout/Filter.js","pages/courses.js","components/layout/FilterBanque.js","pages/banque.js","pages/about.js","pages/contact.js","components/admin/AddCourse.js","components/course/DeleteCourse.js","components/admin/MenuItems.js","components/admin/AdminLayout.js","pages/admin/main.js","pages/admin/users.js","components/admin/AddBanque.js","components/admin/DeleteBanque.js","pages/admin/banques.js","components/admin/CategoryForm.js","components/admin/DeleteCategory.js","components/admin/LevelForm.js","components/admin/DeleteLevel.js","pages/admin/categories.js","components/admin/AddAd.js","components/admin/DeleteAd.js","pages/admin/ads.js","redux/reducers/user.js","redux/reducers/course.js","redux/store.js","utils/AuthRoute.js","utils/AdminRoute.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","isEmpty","string","trim","validateCourseData","data","title","description","category","level","url","author","errors","valid","Object","keys","length","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","withStyles","theme","card","backgroundColor","cursor","boxShadow","courseMedia","width","height","content","padding","marginTop","display","borderRadius","classes","course","substring","to","toLowerCase","split","join","Card","component","Link","className","CardMedia","image","cover","alt","CardContent","Typography","variant","color","name","style","margin","format","appBar","navBar","justifyContent","alignItems","brand","nav","marginLeft","border","palette","primary","main","borderBottomWidth","drawer","postion","paddingTop","minWidth","position","right","top","connect","state","user","history","useHistory","useState","open","setOpen","closeDrawer","active","location","AppBar","Hidden","only","Button","src","require","role","username","onClick","push","Drawer","onClose","fullWidth","footer","gridTemplateColumns","gridGap","borderTop","breakpoints","down","children","bgLight","NavBar","Box","mt","marginRight","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","storage","getCourses","params","limit","dispatch","URL","type","payload","loading","axios","get","then","res","courses","catch","e","console","error","items","header","text","cta","settings","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","mapDispatchToProps","hero","left","bottom","maxWidth","fontSize","fontWeight","marginBottom","heroImg","objectFit","backgroundRepeat","courselistcontainer","categoriesContainer","paddingBottom","textAlign","minHeight","flexDirection","section","categories","setCategories","overflow","map","i","key","mb","Grid","id","Array","from","_","showLevel","cat","_id","setAuthHeaders","JwtToken","localStorage","setItem","defaults","headers","common","remoteStorageToken","removeItem","logoutUser","Copyright","align","href","Date","getFullYear","useStyles","makeStyles","root","backgroundImage","grey","backgroundSize","backgroundPosition","paper","spacing","avatar","secondary","form","submit","progress","login","post","JSON","stringify","jwt","err","response","email","setEmail","password","setPassword","container","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","onSubmit","ev","preventDefault","noValidate","TextField","required","value","onChange","target","label","autoFocus","helperText","autoComplete","disabled","CircularProgress","size","option","paddingLeft","signup","setUsername","levels","setLevels","setLevel","InputLabel","Select","labelId","placeholder","native","substr","userCard","ml","moment","createdAt","locale","months","monthsShort","monthsParseExact","weekdays","weekdaysShort","weekdaysMin","weekdaysParseExact","longDateFormat","LT","LTS","L","LL","LLL","LLLL","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","relativeTime","future","past","s","m","mm","h","hh","d","dd","M","MM","y","yy","dayOfMonthOrdinalParse","ordinal","number","meridiemParse","isPM","input","charAt","meridiem","hours","minutes","isLower","week","dow","doy","tip","btnClassName","tipClassName","Tooltip","IconButton","DeletePost","props","handleOpen","setState","handleClose","_handleDeleteComment","deleteComment","this","authUsername","Btn","deleteBtn","Dialog","DialogTitle","DialogActions","Component","commentId","delete","commentData","separator","comments","comment","index","DeleteComment","downloadCourse","courseId","uri","btn","handleDownloadFile","log","Axios","method","responseType","alert","createObjectURL","Blob","link","document","createElement","setAttribute","body","appendChild","click","DialogContent","useStorage","file","folder","startUpload","setProgress","setError","setUrl","storageRef","ref","put","on","snap","percentage","bytesTransferred","totalBytes","a","getDownloadURL","dialogContent","textField","submitBtn","dark","handleAddExercices","setFile","setLoading","closeModal","saveExercice","LinearProgress","hidden","files","htmlFor","mr","isAdmin","handleDeleteExercice","child","exerciceCard","exercices","setExercices","message","setMessage","exercicesUpdated","filter","Alert","exercice","array","setTimeout","exo","icon","getCoverImage","dialog","adImg","isOpen","ad","setAd","img","mentions","ratingContainer","maxwidth","star","opacity","Rate","rating","setRating","titleAccess","getCourse","addComment","adding_comment","borderTopLeftRadius","borderBottomLeftRadius","divider","addingComment","loading_course","match","commentText","setCommentText","showModal","setShowModal","timer","clearTimeout","Container","fromNow","Math","ceil","commentsCount","Divider","up","searchText","setSearchText","setCategory","defaultValue","categoryParams","onParamsChange","list_container","list_item","transform","transition","loading_item","downloadIcon","banque","setBanque","getBanque","textContainer","banner","Contact","handleAddCourse","setTitle","setDescription","setAuthor","setCover","setErrors","coverRef","coverUpload","coverUrl","multiline","rows","deleteCourse","List","ListItemIcon","ListItemText","pushState","toolbar","paddingRight","toolbarIcon","mixins","zIndex","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","appBarSpacer","React","clsx","Toolbar","edge","aria-label","noWrap","addCourse","newCourse","p","pt","Table","TableHead","TableRow","TableCell","TableBody","downloadCount","Users","users","setUsers","handleAddBanque","handleDeleteBanque","Banque","banques","setBanques","banks","plusIcon","handleAddCategory","category_name","handleUpdateCategory","setName","openModal","handleDeleteCategory","handleAddLevel","level_name","handleUpdateLevel","handleDeleteLevel","Categories","cats","levelUpdated","levls","CategoryForm","LevelForm","handleAddAd","setContent","handleDeleteAd","Ad","ads","setAds","initialState","isAuthenticated","middleware","thunk","reducers","combineReducers","action","findIndex","deleteCount","ind","coursesUpdated","store","createStore","compose","applyMiddleware","rest","render","createMuiTheme","token","parse","App","exact","path","home","about","contact","profile","admin","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9a8c568e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ceb765d6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/3.572f8713.jpg\";","const isEmpty = string => (string.trim() === \"\" ? true : false);\r\n\r\nexports.validateCourseData = (data) => {\r\n  const { title, description, category, level, url, author } = data;\r\n  let errors = {};\r\n  if (!title || isEmpty(title)) errors.title = \"Champ obligatoire\";\r\n  if (!category || isEmpty(category)) errors.category = \"Champ obligatoire\";\r\n  if (!level || isEmpty(level)) errors.level = \"Champ obligatoire\";\r\n  if (!description || isEmpty(description))\r\n    errors.description = \"Champ obligatoire\";\r\nif (!author || isEmpty(author))\r\n    errors.author = \"Champ obligatoire\";\r\n  if (!url) errors.url = \"Fichier du cours obligatoire\";\r\n  return {\r\n    valid: Object.keys(errors).length > 0 ? false : true,\r\n    errors\r\n  };\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/1.2413d22c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/4.83913178.jpg\";","module.exports = \"data:image/jpeg;base64,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\"","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const pathname = useLocation();\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n  return null;\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n//MUI\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n//styles\r\nconst styles = theme => ({\r\n  card: {\r\n    backgroundColor: \"#fff\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      boxShadow: \"0 0 6px 0 rgba(0,0,0,0.3)\"\r\n    }\r\n  },\r\n  courseMedia: {\r\n    width: \"100%\",\r\n    height: 120,\r\n    backgroundColor: \"#ddd\"\r\n  },\r\n  content: {\r\n    padding: 12,\r\n    \"& .footer\": {\r\n      marginTop: 10\r\n    },\r\n    \"& .format\": {\r\n      display: \"inline\",\r\n      backgroundColor: \"#ddd\",\r\n      padding: 4,\r\n      borderRadius: 5\r\n    }\r\n  }\r\n});\r\n\r\nfunction CourseCard({ classes, course }) {\r\n  const description =\r\n    course.description.length > 59\r\n      ? `${course.description.substring(0, 59)}...`\r\n      : course.description;\r\n  const to = `/cours/${course.title\r\n    .toLowerCase()\r\n    .split(\" \")\r\n    .join(\"-\")}`;\r\n  return (\r\n    <Card component={Link} to={to} className={classes.card}>\r\n      <CardMedia\r\n        image={course.cover}\r\n        alt=\"\"\r\n        className={classes.courseMedia}\r\n      />\r\n      <CardContent className={classes.content}>\r\n        <div className=\"d-flex\">\r\n          <Typography variant=\"body2\" color=\"primary\">\r\n            {course.category.name}\r\n          </Typography>{\" \"}\r\n          <span style={{ margin: \"-3px 6px 0px\" }}> - </span>\r\n          <Typography variant=\"body2\" color=\"primary\">\r\n            {course.level.name}\r\n          </Typography>\r\n        </div>\r\n        <Typography className=\"bold\">{course.title}</Typography>\r\n        <Typography variant=\"body2\">{description}</Typography>\r\n        <div className=\"footer\">\r\n          <Typography variant=\"caption\" className=\"format\">\r\n            {course.format}\r\n          </Typography>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(CourseCard);\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n//Mui stuff\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\n//MUI Icons\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n//redux\r\nimport { connect } from \"react-redux\";\r\n\r\n//styles\r\nconst styles = theme => ({\r\n  appBar: {\r\n    backgroundColor: \"#fff\" //theme.palette.primary.main,\r\n    //color: \"#fff\"\r\n  },\r\n  navBar: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    \"& svg\": {\r\n      color: \"#111!important\"\r\n    }\r\n  },\r\n  brand: { height: 34 },\r\n  nav: {\r\n    \"& .nav-item\": {\r\n      marginLeft: 36\r\n    },\r\n    \"& .active\": {\r\n      border: `0 solid ${theme.palette.primary.main}`,\r\n      borderBottomWidth: 4\r\n    }\r\n  },\r\n  drawer: {\r\n    postion: \"relative\",\r\n    paddingTop: 35,\r\n    minWidth: 280,\r\n    \"& .close-icon\": {\r\n      position: \"absolute\",\r\n      right: 8,\r\n      top: 8\r\n    }\r\n  }\r\n});\r\n\r\nfunction Navbar({ classes, user }) {\r\n  const history = useHistory();\r\n  const [open, setOpen] = useState(false);\r\n  function openDrawer() {\r\n    setOpen(true);\r\n  }\r\n  function closeDrawer() {\r\n    setOpen(false);\r\n  }\r\n  const active = url => (url === window.location.pathname ? true : false);\r\n  return (\r\n    <AppBar color=\"default\" className={classes.appBar}>\r\n      <div>\r\n        <Hidden only={[\"xs\", \"sm\"]}>\r\n          <div className={`${classes.navBar} container`}>\r\n            <Button\r\n              className={classes.brand}\r\n              color=\"inherit\"\r\n              component={Link}\r\n              to=\"/\"\r\n            >\r\n              <img\r\n                src={require(\"../../images/logo.jpg\")}\r\n                className={classes.brand}\r\n                alt=\"\"\r\n              />\r\n            </Button>\r\n\r\n            <nav className={classes.nav}>\r\n            <Button\r\n                className=\"nav-item\"\r\n                color={active(\"/\") ? \"default\" : \"inherit\"}\r\n                variant={active(\"/\") ? \"contained\" : \"text\"}\r\n                component={Link}\r\n                to=\"/\"\r\n              >\r\n                Accueil\r\n              </Button>\r\n              <Button\r\n                className=\"nav-item\"\r\n                color={active(\"/cours\") ? \"default\" : \"inherit\"}\r\n                variant={active(\"/cours\") ? \"contained\" : \"text\"}\r\n                component={Link}\r\n                to=\"/cours\"\r\n              >\r\n                Cours\r\n              </Button>\r\n              <Button\r\n                className=\"nav-item\"\r\n                color={active(\"/banque\") ? \"default\" : \"inherit\"}\r\n                variant={active(\"/banque\") ? \"contained\" : \"text\"}\r\n                component={Link}\r\n                to=\"/banque\"\r\n              >\r\n                épreuves\r\n              </Button>\r\n              <Button\r\n                className=\"nav-item\"\r\n                color={active(\"/a-propos\") ? \"default\" : \"inherit\"}\r\n                variant={active(\"/a-propos\") ? \"contained\" : \"text\"}\r\n                component={Link}\r\n                to=\"/a-propos\"\r\n              >\r\n                A propos\r\n              </Button>\r\n              {/*<Button\r\n                className=\"nav-item\"\r\n                color={active(\"/contact\") ? \"default\" : \"inherit\"}\r\n                variant={active(\"/contact\") ? \"contained\" : \"text\"}\r\n                component={Link}\r\n                to=\"/contact\"\r\n              >\r\n                Contactez-nous\r\n              </Button>*/}\r\n            </nav>\r\n            {!user ? (\r\n              <div>\r\n                <Button className=\"nav-item\" component={Link} to=\"/connexion\">\r\n                  Se connecter\r\n                </Button>\r\n                <Button\r\n                  className=\"nav-item\"\r\n                  color=\"inherit\"\r\n                  component={Link}\r\n                  to=\"/inscription\"\r\n                  variant=\"contained\"\r\n                >\r\n                  S'inscrire\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <Button\r\n                className=\"nav-item\"\r\n                color=\"inherit\"\r\n                component={Link}\r\n                to={user.role === \"admin\" ? \"/admin/cours\" : \"/profile\"}\r\n              >\r\n                @{user.username}\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </Hidden>\r\n        {/*Small Navbar */}\r\n        <Hidden only={[\"md\", \"lg\", \"xl\"]}>\r\n          <div className={`${classes.navBar} smNavBar`}>\r\n            <Button onClick={openDrawer}>\r\n              <MenuIcon />\r\n            </Button>\r\n\r\n            <Link to=\"/\">\r\n              <img\r\n                src={require(\"../../images/logo.jpg\")}\r\n                className={classes.brand}\r\n                alt=\"\"\r\n              />\r\n            </Link>\r\n\r\n            <Button onClick={() => history.push(\"/cours\")}>\r\n              <SearchIcon />\r\n            </Button>\r\n            <Drawer open={open} onClose={closeDrawer}>\r\n              <div className={classes.drawer}>\r\n                <CloseIcon className=\"close-icon\" onClick={closeDrawer} />\r\n                <Button fullWidth color=\"inherit\" component={Link} to=\"/\">\r\n                  Accueil\r\n                </Button>\r\n                <Button fullWidth color=\"inherit\" component={Link} to=\"/cours\">\r\n                  Cours\r\n                </Button>\r\n                <Button fullWidth color=\"inherit\" component={Link} to=\"/banque\">\r\n                  épreuves\r\n                </Button>\r\n                <Button\r\n                  fullWidth\r\n                  color=\"inherit\"\r\n                  component={Link}\r\n                  to=\"/a-propos\"\r\n                >\r\n                  A propos\r\n                </Button>\r\n                {/*<Button\r\n                  fullWidth\r\n                  color=\"inherit\"\r\n                  component={Link}\r\n                  to=\"/contact\"\r\n                >\r\n                  Contactez-nous\r\n                </Button>*/}\r\n                {!user ? (\r\n                  <>\r\n                    <Button\r\n                      fullWidth\r\n                      color=\"inherit\"\r\n                      component={Link}\r\n                      to=\"/connexion\"\r\n                    >\r\n                      Se connecter\r\n                    </Button>\r\n                    <Button\r\n                      fullWidth\r\n                      color=\"inherit\"\r\n                      component={Link}\r\n                      to=\"/inscription\"\r\n                    >\r\n                      S'inscrire\r\n                    </Button>\r\n                  </>\r\n                ) : (\r\n                  <Button\r\n                    fullWidth\r\n                    color=\"inherit\"\r\n                    component={Link}\r\n                    to={user.role === \"admin\" ? \"/admin/cours\" : \"/profile\"}\r\n                  >\r\n                    @{user.username}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </Drawer>\r\n          </div>\r\n        </Hidden>\r\n      </div>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user.user\r\n});\r\nexport default withStyles(styles)(connect(mapStateToProps)(Navbar));\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport NavBar from \"./NavBar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\nimport WhatsappIcon from \"@material-ui/icons/WhatsApp\"\r\nimport MailIcon from \"@material-ui/icons/Mail\"\r\n\r\nconst styles = theme => ({\r\n  footer: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(3, 1fr)\",\r\n    gridGap: 20,\r\n    padding: 24,\r\n    borderTop: \"1px solid #eee\",\r\n    [theme.breakpoints.down(600)]: {\r\n        gridTemplateColumns: \"1fr\",\r\n      }\r\n  }\r\n});\r\n\r\nfunction Layout({ children, classes, bgLight }) {\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <main style={{ backgroundColor: bgLight ? \"#f4f4f4\" : \"#fff\" }}>\r\n        {children}\r\n      </main>\r\n      <Box mt={5}>\r\n        <footer  className={`bg-white container ${classes.footer}`}>\r\n            <div>\r\n              <Typography component={Link} to=\"/a-propos\">\r\n                A propos\r\n              </Typography><br/>\r\n              <Typography component={Link} to=\"/cours\">\r\n                Nos cours\r\n              </Typography>\r\n            </div>\r\n\r\n            <Typography>© E-classe 2020. Tous droits réservés.</Typography>\r\n            <div>\r\n            <div className=\"d-flex\">\r\n            <WhatsappIcon style={{marginRight: 4}} />\r\n            <Typography component={Link} to=\"https://wa.me/22960353533\">+229 60353533</Typography>\r\n            </div>\r\n            <div className=\"d-flex\">\r\n            <MailIcon style={{marginRight: 4}} />\r\n            <Typography component={Link} to=\"mailto:eclasse.ilf@gmail.com\">eclasse.ilf@gmail.com</Typography>\r\n            </div>\r\n            </div>\r\n        </footer>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(Layout);\r\n","const firebaseConfig = {\r\n    apiKey: \"AIzaSyBxUGTJpoDa_pQdqK59YSPcEq6MOMXkiiU\",\r\n    authDomain: \"eclasse-5d974.firebaseapp.com\",\r\n    databaseURL: \"https://eclasse-5d974.firebaseio.com\",\r\n    projectId: \"eclasse-5d974\",\r\n    storageBucket: \"eclasse-5d974.appspot.com\",\r\n    messagingSenderId: \"88203802036\",\r\n    appId: \"1:88203802036:web:291f82a6b6e58fd4fa6ee1\",\r\n    measurementId: \"G-RG5EGG6VE9\"\r\n  }\r\n  export default firebaseConfig","import * as firebase from \"firebase\"\r\nimport firebaseConfig from \"./config/firebase\"\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\n\r\nconst storage = firebase.storage();\r\nexport default storage;","import {\r\n  GET_COURSES,\r\n  GET_COURSE,\r\n  ADD_NEW_COURSE,\r\n  SET_LOADING_COURSES,\r\n  SET_LOADING_COURSE,\r\n  DELETE_COURSE,\r\n  ADD_COMMENT,\r\n  SET_ADDING_COMMENT,\r\n  DELETE_COMMENT,\r\n  DOWNLOAD_COURSE,\r\n} from \"../types\";\r\nimport axios from \"axios\";\r\nimport storage from \"../../firebase\"\r\n\r\nconst getCourses = (params, limit = 0) => dispatch => {\r\n  const URL = limit ? `/courses?limit=${limit}` : \"/courses\";\r\n  dispatch({ type: SET_LOADING_COURSES, payload: { loading: true } });\r\n  axios\r\n    .get(URL, { params })\r\n    .then(res => {\r\n      dispatch({ type: GET_COURSES, payload: { courses: res.data } });\r\n      dispatch({ type: SET_LOADING_COURSES, payload: { loading: false } });\r\n    })\r\n    .catch(e => {\r\n      console.error(e)\r\n      dispatch({ type: GET_COURSES, payload: { courses: [] } });\r\n      dispatch({ type: SET_LOADING_COURSES, payload: { loading: false } });\r\n    });\r\n};\r\nconst getCourse = id => dispatch => {\r\n  dispatch({ type: SET_LOADING_COURSE, payload: { loading: true } });\r\n  axios\r\n    .get(`/courses/${id}`)\r\n    .then(res => {\r\n      dispatch({ type: GET_COURSE, payload: { course: res.data } });\r\n      dispatch({ type: SET_LOADING_COURSE, payload: { loading: false } });\r\n    })\r\n    .catch(e => console.error(e));\r\n};\r\n\r\nconst addCourse = newCourse => dispatch => {\r\n  console.log(\"added\", newCourse);\r\n  dispatch({ type: ADD_NEW_COURSE, payload: { newCourse } });\r\n};\r\n\r\nconst deleteCourse = (courseId, url) => dispatch => {\r\n  const x = url.split(\"/\")[url.split(\"/\").length - 1];\r\n    const y = x.split(\"?\")[0]\r\n    const name = y.split(\"%2F\")[y.split(\"%2F\").length -1]\r\n    storage.ref().child(`cours/${name}`).delete().then(res => {\r\naxios\r\n    .delete(`/courses/${courseId}`)\r\n    .then(() => {\r\n      dispatch({\r\n        type: DELETE_COURSE,\r\n        payload: { courseId }\r\n      });\r\n    })\r\n    .catch(e => {\r\n      console.error(e);\r\n    });\r\n    });\r\n  \r\n};\r\n\r\nconst downloadCourse = courseId => dispatch => {\r\n  axios.get(`/courses/${courseId}/download`).then(() => {\r\n    dispatch({ type: DOWNLOAD_COURSE });\r\n  });\r\n};\r\n//comment\r\n\r\nconst addComment = (courseId, text) => dispatch => {\r\n  dispatch({ type: SET_ADDING_COMMENT, payload: { adding_comment: true } });\r\n  axios\r\n    .post(`/courses/${courseId}/comments`, { text })\r\n    .then(res => {\r\n      dispatch({ type: ADD_COMMENT, payload: { comment: res.data } });\r\n      dispatch({\r\n        type: SET_ADDING_COMMENT,\r\n        payload: { adding_comment: false }\r\n      });\r\n    })\r\n    .catch(e => console.log(e));\r\n};\r\n\r\nconst deleteComment = commentId => dispatch => {\r\n  axios.delete(`/comments/${commentId}`).then(() => {\r\n    dispatch({ type: DELETE_COMMENT, payload: { commentId } });\r\n  });\r\n};\r\n\r\nexport {\r\n  getCourses,\r\n  getCourse,\r\n  addCourse,\r\n  deleteCourse,\r\n  downloadCourse,\r\n  addComment,\r\n  deleteComment,\r\n};\r\n","//user types\r\nexport const SET_AUTHENTICATED = \"SET_AUTHENTICATED\";\r\nexport const SET_UNAUTHENTICATED = \"SET_UNAUTHENTICATED\";\r\nexport const SET_ERROR = \"SET_ERROR\";\r\nexport const SET_LOADING = \"SET_LOADING\";\r\n//course\r\nexport const ADD_NEW_COURSE = \"ADD_NEW_COURSE\";\r\nexport const GET_COURSES = \"GET_COURSES\";\r\nexport const GET_COURSE = \"GET_COURSE\";\r\nexport const SET_LOADING_COURSES = \"SET_LOADING_COURSES\";\r\nexport const SET_LOADING_COURSE = \"SET_LOADING_COURSE\";\r\nexport const SET_MODAL_VISIBILITY = \"SET_MODAL_VISIBILITY\";\r\nexport const SET_ADDING_COURSE_PROGRESS = \"SET_ADDING_COURSE_PROGRESS\";\r\nexport const DELETE_COURSE = \"DELETE_COURSE\";\r\nexport const DOWNLOAD_COURSE = \"DOWNLOAD_COURSE\";\r\n\r\n//comment\r\nexport const ADD_COMMENT = \"ADD_COMMENT\";\r\nexport const DELETE_COMMENT = \"DELETE_COMMENT\";\r\nexport const SET_ADDING_COMMENT = \"SET_ADDING_COMMENT\";\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport { Link } from \"react-router-dom\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Slider from \"react-slick\";\r\n\r\n//components\r\nimport CourseCard from \"../components/course/CourseCard\";\r\n//icons\r\nimport Icon from \"@material-ui/icons/Book\";\r\n\r\nimport Layout from \"../components/layout/Layout\";\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { getCourses } from \"../redux/actions/course\";\r\nimport axios from \"axios\";\r\n\r\nconst styles = theme => ({\r\n  hero: {\r\n    position: \"relative\",\r\n    [theme.breakpoints.down(600)]: {\r\n      height: \"80vh\"\r\n    },\r\n    \"& .cover\": {\r\n      position: \"absolute\",\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: -4,\r\n      backgroundColor: \"rgba(0,0,0,0.6)\",\r\n      color: \"#fff\"\r\n    },\r\n    \"& .content\": {\r\n      position: \"absolute\",\r\n      top: \"calc(19% + 5vmin)\",\r\n      left: \"9.5%\",\r\n      maxWidth: 600\r\n    },\r\n    \"& h2\": {\r\n      [theme.breakpoints.down(600)]: {\r\n        fontSize: 22,\r\n        fontWeight: \"600\",\r\n        marginTop: 24,\r\n        marginBottom: 12\r\n      }\r\n    },\r\n    \"& h6\": {\r\n      [theme.breakpoints.down(600)]: {\r\n        fontSize: 16\r\n      }\r\n    },\r\n    \"& .cta\": {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: \"#fff\",\r\n      marginTop: 26\r\n    }\r\n  },\r\n\r\n  heroImg: {\r\n    width: \"100%\",\r\n    height: \"92vh\",\r\n    objectFit: \"cover\",\r\n    backgroundRepeat: \"no-repeat\"\r\n  },\r\n  courselistcontainer: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(4, 1fr)\",\r\n    gridGap: 20,\r\n\r\n    [theme.breakpoints.down(968)]: {\r\n      gridTemplateColumns: \"repeat(3, 1fr)\"\r\n    },\r\n    [theme.breakpoints.down(728)]: {\r\n      gridTemplateColumns: \"repeat(2, 1fr)\"\r\n    },\r\n    [theme.breakpoints.down(498)]: {\r\n      gridTemplateColumns: \"1fr\"\r\n    }\r\n  },\r\n  categoriesContainer: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(5, 1fr)\",\r\n    gridGap: 20,\r\n    marginTop: 8,\r\n    paddingBottom: 15,\r\n    [theme.breakpoints.down(968)]: {\r\n      gridTemplateColumns: \"repeat(4, 1fr)\"\r\n    },\r\n    [theme.breakpoints.down(728)]: {\r\n      gridTemplateColumns: \"repeat(3, 1fr)\"\r\n    },\r\n    [theme.breakpoints.down(498)]: {\r\n      gridTemplateColumns: \"repeat(2, 1fr)\",\r\n      fontSize: 12\r\n    },\r\n    \"& .categoryCard\": {\r\n      textAlign: \"center\",\r\n      minHeight: 100,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\"\r\n    }\r\n  },\r\n  section: {\r\n    marginTop: 50\r\n  }\r\n});\r\n\r\nvar items = [\r\n  {\r\n    url: require(\"../images/1.jpg\"),\r\n    header: \"Accès gratuit à une multitude de cours\",\r\n    text:\r\n      \"Nous mettons à votre disposition des cours gratuits et téléchargeables en plusieurs formats. Faites votre choix et commencez votre apprentissage dès maintenant.\",\r\n    cta: (\r\n      <Button component={Link} to=\"/cours\" className=\"cta\">\r\n        Voir nos cours\r\n      </Button>\r\n    )\r\n  },\r\n  {\r\n    url: require(\"../images/4.jpg\"),\r\n    header: \"Etudiez depuis le confort de chez vous.\",\r\n    text:\r\n      \"Apprenez n'importe où et n'importe quand, grâce à nos cours spécialement réalisés par des professionels de l'enseignement.\",\r\n    cta: (\r\n      <Button component={Link} to=\"/cours\" className=\"cta\">\r\n        Découvrez nos cours\r\n      </Button>\r\n    )\r\n  }\r\n];\r\n\r\nconst settings = {\r\n  dots: true,\r\n  infinite: true,\r\n  speed: 500,\r\n  slidesToShow: 1,\r\n  slidesToScroll: 1,\r\n  autoplay: true\r\n};\r\n\r\nfunction Home({ classes, getCourses, courses, loading }) {\r\n  const [categories, setCategories] = useState([]);\r\n  useEffect(() => {\r\n    getCourses(null, 4);\r\n    axios\r\n      .get(\"/categories\")\r\n      .then(res => setCategories(res.data))\r\n      .catch(e => setCategories([]));\r\n  }, []);\r\n  return (\r\n    <Layout>\r\n      <Slider {...settings} style={{ width: \"100%\", overflow: \"hidden\" }}>\r\n        {items.map(({ url, header, text, cta }, i) => (\r\n          <div className={classes.hero} key={i}>\r\n            <div className=\"cover\">\r\n              <div className=\"content\">\r\n                <Typography variant=\"h2\">{header}</Typography>\r\n                <Typography variant=\"h6\">{text}</Typography>\r\n                {cta}\r\n              </div>\r\n            </div>\r\n\r\n            <img className={classes.heroImg} src={url} alt=\"\" />\r\n          </div>\r\n        ))}\r\n      </Slider>\r\n\r\n      <div className=\"container\">\r\n        <Box mt={6} mb={6}>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <Typography variant=\"h4\">Nouveaux cours</Typography>\r\n            {courses.length > 4 && (\r\n              <Typography className=\"underlined\" component={Link} to=\"/cours\">\r\n                Voir tout\r\n              </Typography>\r\n            )}\r\n          </div>\r\n        </Box>\r\n                    {!loading && courses.length === 0 && <Typography>Aucun cours n'est disponible pour le moment</Typography>}\r\n\r\n        <Grid id=\"courses\" className={classes.courselistcontainer}>\r\n          {loading &&\r\n            Array.from({ length: 8 }).map((_, i) => (\r\n              <Card className=\"courseCardSkeleton\" key={i}></Card>\r\n            ))}\r\n          {courses.map((course, i) => (\r\n            <CourseCard key={i} course={course} showLevel />\r\n          ))}\r\n        </Grid>\r\n      </div>\r\n      <div\r\n        className=\"bg-light\"\r\n        style={{ backgroundColor: \"#f1f1f1\", marginTop: 16 }}\r\n      >\r\n        <div className=\"container\">\r\n          <Grid className={classes.section}>\r\n            <Typography variant=\"h4\">Matières</Typography>\r\n            <div className={classes.categoriesContainer}>\r\n              {categories.map(cat => (\r\n                <Card\r\n                  key={cat._id}\r\n                  //component={Link}\r\n                  //to={`/cours/matiere/${cat.name}`}\r\n                  className=\"categoryCard\"\r\n                >\r\n                  <Icon color=\"secondary\" />\r\n                  <p style={{ fontWeight: \"bold\" }}>{cat.name}</p>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          </Grid>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\nconst mapStateToProps = state => ({\r\n  courses: state.course.courses,\r\n  loading: state.course.loading\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getCourses\r\n};\r\n\r\nexport default withStyles(styles)(\r\n  connect(mapStateToProps, mapDispatchToProps)(Home)\r\n);\r\n","import {\r\n  SET_AUTHENTICATED,\r\n  SET_UNAUTHENTICATED,\r\n  SET_ERROR,\r\n  SET_LOADING\r\n} from \"../types\";\r\nimport axios from \"axios\";\r\n\r\nconst setAuthHeaders = JwtToken => {\r\n  localStorage.setItem(\"JwtToken\", JwtToken);\r\n  axios.defaults.headers.common[\"jwt\"] = JwtToken;\r\n};\r\nconst remoteStorageToken = () => {\r\n  localStorage.removeItem(\"JwtToken\");\r\n  delete axios.defaults.headers.common[\"jwt\"];\r\n};\r\n\r\nconst signup = (data, history) => dispatch => {\r\n  //remoteStorageToken();\r\n  dispatch({ type: SET_LOADING, payload: { loading: true } });\r\n  axios\r\n    .post(\"/signup\", data)\r\n    .then(res => {\r\n      dispatch({\r\n        type: SET_AUTHENTICATED,\r\n        payload: { user: res.data.user }\r\n      });\r\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user));\r\n      setAuthHeaders(res.data.jwt);\r\n      dispatch({ type: SET_LOADING, payload: { loading: false } });\r\n      history.push(\"/cours\");\r\n    })\r\n    .catch(err => {\r\n      //console.log(err.response.data.message[0].messages[0].message);\r\n      dispatch({ type: SET_LOADING, payload: { loading: false } });\r\n      dispatch({ type: SET_UNAUTHENTICATED });\r\n      dispatch({ type: SET_ERROR, payload: { error: err.response.data } });\r\n    });\r\n};\r\n\r\nconst login = (data, history) => dispatch => {\r\n  remoteStorageToken();\r\n  dispatch({ type: SET_LOADING, payload: { loading: true } });\r\n  axios\r\n    .post(\"/login\", data)\r\n    .then(res => {\r\n      dispatch({\r\n        type: SET_AUTHENTICATED,\r\n        payload: { user: res.data.user }\r\n      });\r\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user));\r\n      setAuthHeaders(res.data.jwt);\r\n      dispatch({ type: SET_LOADING, payload: { loading: false } });\r\n      history.push(\"/cours\");\r\n    })\r\n    .catch(err => {\r\n      dispatch({ type: SET_LOADING, payload: { loading: false } });\r\n      dispatch({ type: SET_UNAUTHENTICATED });\r\n      dispatch({ type: SET_ERROR, payload: { error: err.response.data } });\r\n    });\r\n};\r\n\r\nconst getUserData = () => dispatch => {\r\n  axios\r\n    .get(\"/user\")\r\n    .then(res => {\r\n      dispatch({ type: SET_AUTHENTICATED, payload: { user: res.data } });\r\n    })\r\n    .catch(e => {\r\n      console.error(e);\r\n    });\r\n};\r\n\r\nconst editUserDetails = userDetails => dispatch => {\r\n  axios\r\n    .post(\"/user\", userDetails)\r\n    .then(() => {\r\n      dispatch(getUserData());\r\n    })\r\n    .catch(e => {\r\n      console.error(e);\r\n    });\r\n};\r\n\r\nconst logoutUser = () => dispatch => {\r\n  remoteStorageToken();\r\n  dispatch({ type: SET_UNAUTHENTICATED });\r\n};\r\n\r\nexport { signup, login, getUserData, editUserDetails, logoutUser };\r\n","import React, { useState } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../redux/actions/user\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        E-classes\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: \"100vh\"\r\n  },\r\n  image: {\r\n    backgroundImage: \"url('../images/2.jpg')\", //\"url(https://source.unsplash.com/random)\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor:\r\n      theme.palette.type === \"light\"\r\n        ? theme.palette.grey[50]\r\n        : theme.palette.grey[900],\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\"\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    \"& .logo\": {\r\n      height: 20\r\n    }\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1)\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    position: \"relative\"\r\n  },\r\n  progress: {\r\n    position: \"absolute\",\r\n    color: theme.palette.primary.main\r\n  }\r\n}));\r\n\r\nfunction SignInSide({ login, history, loading, error }) {\r\n  const classes = useStyles();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  function loginUser(ev) {\r\n    ev.preventDefault();\r\n    const data = {\r\n      email,\r\n      password\r\n    };\r\n    login(data, history);\r\n  }\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <img src={require(\"../images/logo.jpg\")} alt=\"\" className=\"logo\" />\r\n\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Connexion\r\n          </Typography>\r\n          <form className={classes.form} onSubmit={loginUser} noValidate>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n              label=\"Email\"\r\n              name=\"name\"\r\n              autoFocus\r\n              error={error && error.email ? true : false}\r\n              helperText={error && error.email}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n              name=\"password\"\r\n              label=\"Mot de passe\"\r\n              type=\"password\"\r\n              autoComplete=\"current-password\"\r\n              error={error && error.password ? true : false}\r\n              helperText={error && error.password}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={loading}\r\n            >\r\n              Se connecter\r\n              {loading && (\r\n                <CircularProgress size={20} className={classes.progress} />\r\n              )}\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item xs>\r\n                <Link href=\"#\" variant=\"body2\">\r\n                  Mot de passe oublié?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link href=\"/inscription\" variant=\"body2\">\r\n                  {\"Nouveau ? S'inscrire\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n            <Box mt={5}>\r\n              <Copyright />\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\nconst mapStateToProps = state => ({\r\n  error: state.user.error,\r\n  loading: state.user.loading\r\n});\r\nconst mapDispatchToProps = {\r\n  login\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignInSide);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { signup } from \"../redux/actions/user\";\r\nimport axios from \"axios\";\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: \"100vh\"\r\n  },\r\n  image: {\r\n    //backgroundImage: \"url(https://source.unsplash.com/random)\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor:\r\n      theme.palette.type === \"light\"\r\n        ? theme.palette.grey[50]\r\n        : theme.palette.grey[900],\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\"\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    \"& .logo\": {\r\n      height: 20\r\n    }\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1)\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2)\r\n  },\r\n  progress: {\r\n    position: \"absolute\",\r\n    color: theme.palette.primary.main\r\n  },\r\n  option: {\r\n    paddingLeft: 14,\r\n    padding: 8,\r\n    \"&:hover\": {\r\n      backgroundColor: \"#f1f1f1\"\r\n    }\r\n  }\r\n}));\r\n\r\nfunction SignUpSide({ signup, history, loading, error }) {\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [levels, setLevels] = useState([]);\r\n  const [level, setLevel] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/levels\").then(res => {\r\n      setLevels(res.data);\r\n    });\r\n  }, []);\r\n  function handleLevelChange(e) {\r\n    setLevel(e.target.value);\r\n  }\r\n  function register(ev) {\r\n    ev.preventDefault();\r\n    const data = {\r\n      username,\r\n      email,\r\n      password,\r\n      level\r\n    };\r\n    signup(data, history);\r\n    //setLoading(false);\r\n  }\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid\r\n        item\r\n        xs={false}\r\n        sm={4}\r\n        md={7}\r\n        className={`${classes.image} loginBg`}\r\n      />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <img src={require(\"../images/logo.jpg\")} alt=\"\" className=\"logo\" />\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Inscription\r\n          </Typography>\r\n          <form className={classes.form} noValidate onSubmit={register}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"name\"\r\n              label=\"Nom complet\"\r\n              name=\"name\"\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n              autoFocus\r\n              error={error && error.username ? true : false}\r\n              helperText={error && error.username}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Addresse Email\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n              error={error && error.email ? true : false}\r\n              helperText={error && error.email}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Mot de passe\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n              error={error && error.password ? true : false}\r\n              helperText={error && error.password}\r\n            />\r\n            <Box mt={3}>\r\n              <InputLabel id=\"classe\">Classe</InputLabel>\r\n              <Select\r\n                labelId=\"classe\"\r\n                value={level}\r\n                name=\"categories\"\r\n                onChange={handleLevelChange}\r\n                fullWidth\r\n                placeholder=\"Sélectionner votre classe\"\r\n                native\r\n              >\r\n                {levels.map((level, i) => (\r\n                  <option key={i} value={level._id} className={classes.option}>\r\n                    {level.name}\r\n                  </option>\r\n                ))}\r\n              </Select>\r\n              {error && error.level && (\r\n                <Typography variant=\"caption\" color=\"error\">\r\n                  {error.level}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={loading}\r\n            >\r\n              S'inscrire\r\n              {loading && (\r\n                <CircularProgress size={20} className={classes.progress} />\r\n              )}\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item xs>\r\n                <Link href=\"#\" variant=\"body2\">\r\n                  Mot de passe oublié?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link href=\"/connexion\" variant=\"body2\">\r\n                  {\"Déjà inscrit? Se connecter\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n            <Box mt={5}>\r\n              <Copyright />\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loading: state.user.loading,\r\n  error: state.user.error\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  signup\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpSide);\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default function Avatar({ name, size }) {\r\n  return (\r\n    <div className=\"avatar\" style={{ width: size, height: size }}>\r\n      <Typography>{name.substr(0, 2)}</Typography>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\n//icons\r\nimport UserIcon from \"@material-ui/icons/Person\";\r\nimport MailIcon from \"@material-ui/icons/Mail\";\r\nimport CalendarToday from \"@material-ui/icons/CalendarToday\";\r\n\r\nimport Layout from \"../components/layout/Layout\";\r\nimport moment from \"moment\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../redux/actions/user\";\r\nimport Avatar from \"../components/layout/Avatar\";\r\n//import EditUserDetails from \"../components/user/EditUserDetails\";\r\n\r\nconst styles = () => ({\r\n  userCard: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    maxWidth: 400,\r\n    margin: \"20px auto\",\r\n    padding: \"12px 16px\",\r\n    textAlign: \"center\",\r\n    \"& h4\": {\r\n      textAlign: \"center\"\r\n    },\r\n    \"& button\": {\r\n      marginTop: 14\r\n    },\r\n    \"& .d-flex\": {\r\n      marginTop: 8\r\n    }\r\n  }\r\n});\r\n\r\nfunction Profile({ classes, logoutUser, user }) {\r\n  const history = useHistory();\r\n  function logout() {\r\n    logoutUser();\r\n    history.push(\"/\");\r\n  }\r\n  return (\r\n    <Layout>\r\n      <div className=\"mtop container\">\r\n        <Paper className={classes.userCard}>\r\n          {Object.keys(user).length > 0 ? (\r\n            <>\r\n              <Typography variant=\"h4\">Mon Compte</Typography>\r\n              <Avatar name={user.username} size={70} />\r\n              <div className=\"d-flex align-items-center\">\r\n                <UserIcon fontSize=\"small\" color=\"primary\" />\r\n                <Box ml={2}>\r\n                  <Typography variant=\"h6\" color=\"primary\">\r\n                    {user.username}\r\n                  </Typography>\r\n                </Box>\r\n              </div>\r\n              <div className=\"d-flex align-items-center\">\r\n                <MailIcon fontSize=\"small\" color=\"primary\" />\r\n                <Box ml={2}>\r\n                  <Typography variant=\"body2\" color=\"textSecondary\">\r\n                    {user.email}\r\n                  </Typography>\r\n                </Box>\r\n              </div>\r\n              <div className=\"d-flex align-items-center\">\r\n                <Box ml={2}>\r\n                  <Typography>{user.level && user.level.name}</Typography>\r\n                </Box>\r\n              </div>\r\n              <div className=\"d-flex align-items-center\">\r\n                <CalendarToday fontSize=\"small\" color=\"primary\" />\r\n                <Box ml={2}>\r\n                  <Typography variant=\"body2\">\r\n                    Inscrit(e) le{\" \"}\r\n                    {moment(user.createdAt).format(\"DD, MMMM YYYY\")}\r\n                  </Typography>\r\n                </Box>\r\n              </div>\r\n              {/*<EditUserDetails user={user} />*/}\r\n              <Button color=\"secondary\" variant=\"contained\" onClick={logout}>\r\n                Se déconnecter\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <Button component={Link} to=\"/connexion\">\r\n              Se connecter\r\n            </Button>\r\n          )}\r\n        </Paper>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user.user\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  logoutUser\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(styles)(Profile));\r\n","import moment from \"moment\"\r\n\r\nmoment.locale('fr', {\r\n    months : 'janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre'.split('_'),\r\n    monthsShort : 'janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.'.split('_'),\r\n    monthsParseExact : true,\r\n    weekdays : 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),\r\n    weekdaysShort : 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),\r\n    weekdaysMin : 'Di_Lu_Ma_Me_Je_Ve_Sa'.split('_'),\r\n    weekdaysParseExact : true,\r\n    longDateFormat : {\r\n        LT : 'HH:mm',\r\n        LTS : 'HH:mm:ss',\r\n        L : 'DD/MM/YYYY',\r\n        LL : 'D MMMM YYYY',\r\n        LLL : 'D MMMM YYYY HH:mm',\r\n        LLLL : 'dddd D MMMM YYYY HH:mm'\r\n    },\r\n    calendar : {\r\n        sameDay : '[Aujourd’hui à] LT',\r\n        nextDay : '[Demain à] LT',\r\n        nextWeek : 'dddd [à] LT',\r\n        lastDay : '[Hier à] LT',\r\n        lastWeek : 'dddd [dernier à] LT',\r\n        sameElse : 'L'\r\n    },\r\n    relativeTime : {\r\n        future : 'dans %s',\r\n        past : 'il y a %s',\r\n        s : 'quelques secondes',\r\n        m : 'une minute',\r\n        mm : '%d minutes',\r\n        h : 'une heure',\r\n        hh : '%d heures',\r\n        d : 'un jour',\r\n        dd : '%d jours',\r\n        M : 'un mois',\r\n        MM : '%d mois',\r\n        y : 'un an',\r\n        yy : '%d ans'\r\n    },\r\n    dayOfMonthOrdinalParse : /\\d{1,2}(er|e)/,\r\n    ordinal : function (number) {\r\n        return number + (number === 1 ? 'er' : 'e');\r\n    },\r\n    meridiemParse : /PD|MD/,\r\n    isPM : function (input) {\r\n        return input.charAt(0) === 'M';\r\n    },\r\n    // In case the meridiem units are not separated around 12, then implement\r\n    // this function (look at locale/id.js for an example).\r\n    // meridiemHour : function (hour, meridiem) {\r\n    //     return /* 0-23 hour, given meridiem token and hour 1-12 */ ;\r\n    // },\r\n    meridiem : function (hours, minutes, isLower) {\r\n        return hours < 12 ? 'PD' : 'MD';\r\n    },\r\n    week : {\r\n        dow : 1, // Monday is the first day of the week.\r\n        doy : 4  // Used to determine first week of the year.\r\n    }\r\n});\r\nmoment.locale('fr');\r\nexport default moment;","import React from 'react'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nexport default ({ children, tip, btnClassName, tipClassName, onClick}) => (\r\n    <Tooltip title={tip} className={tipClassName}>\r\n        <IconButton onClick={onClick} className={btnClassName}>\r\n            {children}\r\n        </IconButton>\r\n    </Tooltip>\r\n)","import React, { Component } from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Btn from \"../layout/Btn\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\n\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { deleteComment } from \"../../redux/actions/course\";\r\n\r\nconst styles = {\r\n  deleteBtn: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: \"2%\"\r\n  }\r\n};\r\n\r\nclass DeletePost extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false\r\n    };\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  _handleDeleteComment = () => {\r\n    this.props.deleteComment(this.props.id);\r\n    this.handleClose();\r\n  };\r\n  render() {\r\n    const { classes, username, authUsername } = this.props;\r\n    return (\r\n      <>\r\n        {username === authUsername ? (\r\n          <Btn\r\n            btnClassName={classes.deleteBtn}\r\n            tip=\"Supprimer le commentaire\"\r\n            onClick={this.handleOpen}\r\n          >\r\n            <DeleteOutline fontSize=\"small\" color=\"secondary\" />\r\n          </Btn>\r\n        ) : null}\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          fullWidth\r\n          maxWidth=\"sm\"\r\n        >\r\n          <DialogTitle>\r\n            Etes-vous sûr de vouloir supprimer ce commentaire?\r\n          </DialogTitle>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.handleClose}>\r\n              Non\r\n            </Button>\r\n            <Button color=\"secondary\" onClick={this._handleDeleteComment}>\r\n              Oui\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteComment\r\n};\r\nconst mapStateToProps = state => ({\r\n  authUsername: state.user.user && state.user.user.username\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(styles)(DeletePost));\r\n","import React from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport moment from \"moment\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DeleteComment from \"./DeleteComment\";\r\nimport Avatar from \"../layout/Avatar\";\r\n\r\nconst styles = {\r\n  commentData: {\r\n    position: \"relative\",\r\n    paddingLeft: 4,\r\n    \"& .userImg\": {\r\n      marginRight: 10\r\n    },\r\n    \"& .comment-text\": {\r\n      marginLeft: 54\r\n    },\r\n    \"& .createdAt\": {\r\n      fontSize: 12,\r\n      color: \"#777\"\r\n    }\r\n  },\r\n  separator: {\r\n    margin: 4\r\n  }\r\n};\r\n\r\nconst Comments = ({ comments, classes }) => {\r\n  return (\r\n    <div>\r\n      {comments &&\r\n        comments.map((comment, index) => {\r\n          const {\r\n            _id,\r\n            text,\r\n            createdAt,\r\n            user: { username }\r\n          } = comment;\r\n          return (\r\n            <div key={_id}>\r\n              <div className={classes.commentData}>\r\n                <div className=\"d-flex\">\r\n                  <div className=\"userImg\">\r\n                    <Avatar name={username} size={25} />\r\n                  </div>\r\n                  <div style={{ marginLeft: 6 }}>\r\n                    <Typography\r\n                      variant=\"body1\"\r\n                      color=\"primary\"\r\n                      className=\"responsiveText\"\r\n                    >\r\n                      {username}\r\n                    </Typography>\r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      color=\"textSecondary\"\r\n                      className=\"createdAt\"\r\n                    >\r\n                      {moment(createdAt).format(\"hh:mm, DD MMM YYYY\")}\r\n                    </Typography>\r\n                  </div>\r\n                </div>\r\n                <Typography\r\n                  variant=\"body1\"\r\n                  className=\"responsiveText comment-text\"\r\n                >\r\n                  {text}\r\n                </Typography>\r\n\r\n                <DeleteComment username={username} id={_id} />\r\n              </div>\r\n              {index !== comments.length - 1 && (\r\n                <hr className={classes.separator} />\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\nexport default withStyles(styles)(Comments);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Btn from \"../layout/Btn\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport Axios from \"axios\";\r\nimport DownloadIcon from \"@material-ui/icons/CloudDownload\";\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { downloadCourse } from \"../../redux/actions/course\";\r\n\r\nfunction Download({ user, uri, title, courseId, downloadCourse, btn }) {\r\n  const [open, setOpen] = useState(false);\r\n  function handleOpen() {\r\n    setOpen(true);\r\n  }\r\n  function handleClose() {\r\n    setOpen(false);\r\n  }\r\n  function handleDownloadFile() {\r\n    if (user) {\r\n      console.log(\"user true\");\r\n      Axios({\r\n        url: uri,\r\n        method: \"GET\",\r\n        responseType: \"blob\"\r\n      }).then(res => {\r\n        alert(\"get req done\");\r\n        const url = window.URL.createObjectURL(new Blob([res.data]));\r\n        const link = document.createElement(\"a\");\r\n        link.href = url;\r\n        link.setAttribute(\"download\", title);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        if (courseId) downloadCourse(courseId);\r\n      });\r\n    } else {\r\n      handleOpen();\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {!btn ? (\r\n        <Btn tip=\"Télécharger\" onClick={handleDownloadFile}>\r\n          <DownloadIcon />\r\n        </Btn>\r\n      ) : (\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleDownloadFile}>\r\n          Télécharger\r\n        </Button>\r\n      )}\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        className=\"dialog\"\r\n      >\r\n        <DialogTitle>Veuillez vous connecter</DialogTitle>\r\n        <DialogContent>\r\n          <Button\r\n            component={Link}\r\n            to=\"/connexion\"\r\n            className=\"mr-6\"\r\n            variant=\"contained\"\r\n          >\r\n            Se connecter\r\n          </Button>\r\n          <Button component={Link} to=\"/inscription\">\r\n            S'inscrire\r\n          </Button>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nDownload.propTypes = {\r\n  user: PropTypes.object,\r\n  uri: PropTypes.string.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user.user\r\n});\r\nconst mapDispatchToProps = {\r\n  downloadCourse\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Download);\r\n","import React from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nexport default ({ children, tip, btnClassName, tipClassName, onClick }) => (\r\n  <Tooltip title={tip} className={tipClassName}>\r\n    <IconButton onClick={onClick} className={btnClassName}>\r\n      {children}\r\n    </IconButton>\r\n  </Tooltip>\r\n);\r\n","import { useState, useEffect } from \"react\";\r\nimport storage from \"../firebase\";\r\n\r\nconst useStorage = (file, folder, startUpload) => {\r\n  const [progress, setProgress] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [url, setUrl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (startUpload) {\r\n      const storageRef = storage.ref(`${folder}/${file.name}`);\r\n      storageRef.put(file).on(\r\n        \"state_changed\",\r\n        snap => {\r\n          let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n          setProgress(percentage);\r\n        },\r\n        err => {\r\n          setError(err);\r\n        },\r\n        async () => {\r\n          const url = await storageRef.getDownloadURL();\r\n          setUrl(url);\r\n        }\r\n      );\r\n    }\r\n  }, [startUpload]);\r\n  return { progress, url, error };\r\n};\r\n\r\nexport default useStorage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n//core\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Label from \"@material-ui/core/FormLabel\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\n\r\n//icons\r\nimport PlusIcon from \"@material-ui/icons/Add\";\r\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport axios from \"axios\";\r\nimport Btn from \"../utils/Btn\";\r\nimport useStorage from \"../../hooks/useStorage\";\r\n\r\n\r\nconst styles = theme => ({\r\n  dialogContent: {\r\n    \"& .upload\": {\r\n      padding: \"6px 16px\",\r\n      cursor: \"pointer\",\r\n      backgroundColor: \"#f5f5f5\"\r\n    }\r\n  },\r\n  textField: {\r\n    marginTop: 10\r\n  },\r\n  option: {\r\n    paddingLeft: 14,\r\n    padding: 8,\r\n    \"&:hover\": {\r\n      backgroundColor: \"#f1f1f1\"\r\n    }\r\n  },\r\n  submitBtn: {\r\n    marginRight: 14,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.dark\r\n    }\r\n  },\r\n  progress: {\r\n    position: \"absolute\",\r\n    color: \"#fff\"\r\n  }\r\n});\r\n\r\nfunction AddExercice({ classes, handleAddExercices, courseId }) {\r\n  const [open, setOpen] = useState(false);\r\n  const [file, setFile] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const { url, progress } = useStorage(file, \"exercices\", loading);\r\n  useEffect(() => {\r\n    if (url) {\r\n      saveExercice()\r\n    }\r\n  }, [url]);\r\n\r\n  function openModal() {\r\n    setOpen(true);\r\n  }\r\n  function closeModal() {\r\n    setOpen(false);\r\n    setFile(null);\r\n  }\r\n  function handleFileChange(e) {\r\n    setFile(e.target.files[0]);\r\n  }\r\n  function saveExercice() {\r\n    const data = { url, name: file.name };\r\n      axios\r\n        .post(`/courses/${courseId}/exercices`, data)\r\n        .then(res => {\r\n          setLoading(false);\r\n          closeModal();\r\n          handleAddExercices(res.data);\r\n        })\r\n        .catch(e => {\r\n          console.error(e);\r\n          setLoading(false);\r\n        });\r\n      setLoading(false);\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n  }\r\n  return (\r\n    <>\r\n      <Btn tip=\"Ajouter un exercice\" onClick={openModal}>\r\n        <PlusIcon />\r\n      </Btn>\r\n      <Dialog\r\n        open={open}\r\n        onClose={closeModal}\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        className=\"dialog\"\r\n      >\r\n        <DialogTitle>Ajouter un nouveau exercice</DialogTitle>\r\n        {progress && (\r\n          <div className=\"progress-container\">\r\n            <LinearProgress variant=\"determinate\" value={progress} />\r\n          </div>\r\n        )}\r\n        <DialogContent className={classes.dialogContent}>\r\n          <form>\r\n            <Box mt={4} mb={2}>\r\n              <input\r\n                type=\"file\"\r\n                id=\"fileInput\"\r\n                name=\"file\"\r\n                hidden\r\n                onChange={handleFileChange}\r\n              />\r\n              <label htmlFor=\"fileInput\">\r\n                <Label>Fichier du cours</Label>\r\n                {file&& (\r\n                  <Paper className=\"upload\">\r\n                          <Box mr={1}>\r\n                            <Typography\r\n                              style={{ marginLeft: 6 }}\r\n                              variant=\"body2\"\r\n                            >\r\n                              {file.name}\r\n                            </Typography>\r\n                          </Box>\r\n                        </Paper>\r\n                )}\r\n                <Paper className=\"upload\">\r\n                  <Box mr={1}>\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <UploadIcon style={{ marginRight: 6 }} />\r\n                      <Typography>\r\n                        {file\r\n                          ? \"Resélectionner l'exercice\"\r\n                          : \"Selectionner l'exercice\"}\r\n                      </Typography>\r\n                    </div>\r\n                  </Box>\r\n                </Paper>\r\n              </label>\r\n            </Box>\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Box mt={2} mb={2}>\r\n            <Button\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={`${classes.submitBtn} white`}\r\n              onClick={handleSubmit}\r\n              type=\"submit\"\r\n            >\r\n              Ajouter\r\n              {loading && (\r\n                <CircularProgress size={20} className={classes.progress} />\r\n              )}\r\n            </Button>\r\n            <Button\r\n              style={{ marginRight: 14 }}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={closeModal}\r\n            >\r\n              Annuler\r\n            </Button>\r\n          </Box>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nAddExercice.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  handleAddExercices: PropTypes.func.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(AddExercice);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Btn from \"../layout/Btn\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\n//redux\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport storage from \"../../firebase\"\r\n\r\n\r\nfunction DeleteExercice({ handleDeleteExercice, courseId, url, isAdmin, index }) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  function handleOpen() {\r\n    setOpen(true);\r\n  }\r\n  function handleClose() {\r\n    setOpen(false);\r\n  }\r\n\r\n  function deleteExercice() {\r\n    const x = url.split(\"/\")[url.split(\"/\").length - 1];\r\n    const y = x.split(\"?\")[0]\r\n    const name = y.split(\"%2F\")[y.split(\"%2F\").length -1]\r\n    storage.ref().child(`exercices/${name}`).delete().then(res => {\r\n      axios.delete(`/courses/${courseId}/exercices/${index}`).then(() => {\r\n      handleDeleteExercice(index);\r\n      handleClose();\r\n    });\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isAdmin ? (\r\n        <Btn tip=\"Supprimer cet exercice\" onClick={handleOpen}>\r\n          <DeleteOutline fontSize=\"small\" color=\"secondary\" />\r\n        </Btn>\r\n      ) : null}\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>\r\n          Etes-vous sûr de vouloir supprimer cet exercice?\r\n        </DialogTitle>\r\n        <DialogActions>\r\n          <Button color=\"primary\" onClick={handleClose}>\r\n            Non\r\n          </Button>\r\n          <Button color=\"secondary\" onClick={deleteExercice}>\r\n            Oui\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nDeleteExercice.propTypes = {\r\n  isAdmin: PropTypes.bool.isRequired,\r\n  handleDeleteExercice: PropTypes.func.isRequired,\r\n  courseId: PropTypes.string.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAdmin: state.user.user && state.user.user.role === \"admin\"\r\n});\r\n\r\nexport default connect(mapStateToProps)(DeleteExercice);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport PropTypes from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n\r\nimport Download from \"./Download\";\r\nimport { connect } from \"react-redux\";\r\nimport AddExercice from \"../admin/AddExercice\";\r\nimport DeleteExercice from \"../admin/DeleteExercice\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  exerciceCard: {\r\n    padding: \"10px 12px\",\r\n    marginBottom: 12\r\n  }\r\n}));\r\n\r\nfunction ExerciceList({ course, user }) {\r\n  const classes = useStyles();\r\n  const [exercices, setExercices] = useState([]);\r\n  const [message, setMessage] = useState(null);\r\n  useEffect(() => {\r\n    setExercices(course.exercices);\r\n  }, [course]);\r\n  function handleAddExercices(exercice) {\r\n    const array = [...exercices, exercice];\r\n    setExercices(array);\r\n    const msg = \"Exercice ajouté avec succès\"\r\n    setMessage(msg);\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  function handleDeleteExercice(index) {\r\n    const exercicesUpdated = exercices.filter((_, i) => i !== index)\r\n    setExercices(exercicesUpdated)\r\n  }\r\n  return (\r\n    <>\r\n      {message && (\r\n        <Box mb={2}>\r\n          <Alert className=\"alert-message\">{message}</Alert>\r\n        </Box>\r\n      )}\r\n      <Box mb={2} className=\"d-flex justify-content-between\">\r\n        <Typography variant=\"h5\">Exercices</Typography>\r\n        {user && user.role === \"admin\" && (\r\n          <AddExercice\r\n            handleAddExercices={handleAddExercices}\r\n            courseId={course._id}\r\n          />\r\n        )}\r\n      </Box>\r\n\r\n      {exercices.map((exo, i) => {\r\n        console.log(exo)\r\n        return(\r\n              <Card key={i} className={classes.exerciceCard}>\r\n                <Typography>Exercice n° {i + 1}</Typography>\r\n                <Download icon uri={exo.url} title={`${course.name}_exercice${i}`} />\r\n                <DeleteExercice url={exo.url} name={exo.name} handleDeleteExercice={handleDeleteExercice} courseId={course._id} index={i} />\r\n              </Card>\r\n            )})}\r\n    </>\r\n  );\r\n}\r\n\r\nExerciceList.propTypes = {\r\n  course: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(ExerciceList);\r\n","const getCoverImage = url => `http://localhost:3001/uploads/${url}`\r\nexport default getCoverImage","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n//core\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Axios from \"axios\";\r\nimport getCoverImage from \"../../utils/getCoverImage\";\r\nimport Btn from \"../utils/Btn\";\r\n\r\nconst styles = theme => ({\r\n  dialog: {\r\n    position: \"relative\",\r\n    \"& .closeIcon\": {\r\n      top: 0,\r\n      right: 0\r\n    }\r\n  },\r\n  dialogContent: {\r\n    marginTop: 6\r\n  },\r\n  adImg: {\r\n    height: 230,\r\n    width: \"100%\",\r\n    objectFit: \"cover\"\r\n  }\r\n});\r\n\r\nfunction AdModal({ classes, isOpen, closeModal }) {\r\n  const [ad, setAd] = useState(null);\r\n\r\n  useEffect(() => {\r\n    Axios.get(\"/ad\").then(res => {\r\n      setAd(res.data);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {ad && (\r\n        <Dialog\r\n          open={isOpen}\r\n          onClose={closeModal}\r\n          fullWidth\r\n          maxWidth=\"sm\"\r\n          className={`dialog ${classes.dialog}`}\r\n        >\r\n          <div className=\"closeIcon\" style={{ position: \"absolute\" }}>\r\n            <Btn btnClassName=\"closeIcon\" tip=\"Fermer\" onClick={closeModal}>\r\n              <CloseIcon />\r\n            </Btn>\r\n          </div>\r\n          <DialogTitle>{ad.title}</DialogTitle>\r\n          <DialogContent className={classes.dialogContent}>\r\n            <Grid container spacing={2}>\r\n              {ad.img && (\r\n                <Grid item style={{ width: \"100%\" }}>\r\n                  <img\r\n                    src={getCoverImage(ad.img)}\r\n                    className={classes.adImg}\r\n                    alt=\"\"\r\n                  />\r\n                </Grid>\r\n              )}\r\n              <Grid item>{ad.content}</Grid>\r\n            </Grid>\r\n          </DialogContent>\r\n        </Dialog>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nAdModal.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\nexport default withStyles(styles)(AdModal);\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport Star from \"@material-ui/icons/Star\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nimport Axios from \"axios\";\r\n\r\nconst mentions = [\r\n  \"Pas intéressant\",\r\n  \"Peu intéressant\",\r\n  \"Intéressant\",\r\n  \"Assez intéressant\",\r\n  \"Très intéressant\"\r\n];\r\nconst useStyles = makeStyles(() => ({\r\n  btn: {\r\n    fontSize: 12\r\n  },\r\n  ratingContainer: {\r\n    maxwidth: 80\r\n  },\r\n  star: {\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      opacity: 0.8\r\n    }\r\n  }\r\n}));\r\n\r\nexport default function Rate({ courseId }) {\r\n  const classes = useStyles();\r\n  const [rating, setRating] = useState(0);\r\n  const [open, setOpen] = useState(false);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  function handleOpen() {\r\n    setOpen(true);\r\n  }\r\n  function handleClose() {\r\n    setOpen(false);\r\n  }\r\n\r\n  function handleRateChange(number) {\r\n    setRating(number + 1);\r\n  }\r\n  function rateCourse() {\r\n    Axios.post(`/courses/${courseId}/rate`, { rating }).then(() => {\r\n      setMessage({ type: \"success\", content: \"Note envoyée\" });\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n      }, 4000);\r\n      handleClose();\r\n    });\r\n  }\r\n  return (\r\n    <>\r\n      <Button\r\n        className={classes.btn}\r\n        onClick={handleOpen}\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n      >\r\n        Noter ce cours\r\n      </Button>\r\n      {message && (\r\n        <Box mb={2}>\r\n          <Alert className=\"alert-message\">{message.content}</Alert>\r\n        </Box>\r\n      )}\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Noter ce cours</DialogTitle>\r\n        <DialogContent>\r\n          <div className={classes.ratingContainer}>\r\n            {Array.from({ length: 5 }).map((_, i) => (\r\n              <Star\r\n                key={i}\r\n                color={i < rating ? \"primary\" : \"disabled\"}\r\n                className={classes.star}\r\n                onClick={() => handleRateChange(i)}\r\n                titleAccess={mentions[i]}\r\n              />\r\n            ))}\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button color=\"secondary\" onClick={handleClose}>\r\n            Annuler\r\n          </Button>\r\n          <Button color=\"primary\" onClick={rateCourse}>\r\n            Valider\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n//MUI\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Input from \"@material-ui/core/InputBase\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport moment from \"../utils/moment\";\r\n//icons\r\nimport Star from \"@material-ui/icons/Star\";\r\nimport CommentIcon from \"@material-ui/icons/Forum\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\n//component\r\nimport Layout from \"../components/layout/Layout\";\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { getCourse, addComment } from \"../redux/actions/course\";\r\nimport Comments from \"../components/course/Comments\";\r\nimport Download from \"../components/course/Download\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport ExerciceList from \"../components/course/ExerciceList\";\r\nimport AdModal from \"../components/layout/AdModal\";\r\n//import CourseVideoComponent from \"../components/course/CourseVideoComponent\";\r\nimport Rate from \"../components/course/RateCourse\";\r\n//styles\r\nconst styles = theme => ({\r\n  container: {\r\n    maxWidth: 1100,\r\n    padding: 6,\r\n    \"& .padding\": { padding: \"8px 15px\" },\r\n    \"& .cover\": {\r\n      height: 260,\r\n      backgroundColor: \"#f1f1f1\",\r\n      marginTop: 8\r\n    },\r\n    \"& video\": { marginTop: 8 },\r\n    \"& .header\": { display: \"flex\", justifyContent: \"space-between\" },\r\n    \"& .icons\": { display: \"flex\", justifyContent: \"space-between\" },\r\n    \"& .loading-course\": { height: 200, width: \"100%\", display: \"flex\" },\r\n    \"& .icons svg\": { fontSize: 17 },\r\n    \"& .feature\": { marginRight: 16 },\r\n    \"& .feature svg\": {\r\n      fontSize: 18\r\n    },\r\n    \"& .ml-1\": { marginLeft: 6 }\r\n  },\r\n  card: { backgroundColor: \"#fff\", cursor: \"pointer\" },\r\n  courseMedia: {\r\n    width: \"100%\",\r\n    height: 300,\r\n    backgroundColor: \"#ddd\"\r\n  },\r\n  content: {\r\n    padding: 12,\r\n    \"& .type\": {\r\n      display: \"inline\",\r\n      backgroundColor: \"#ddd\",\r\n      padding: 4,\r\n      borderRadius: 5\r\n    }\r\n  },\r\n  input: {\r\n    backgroundColor: \"#fff\",\r\n    padding: \"0 6px\",\r\n    border: \"1px solid #ddd\",\r\n    borderTopLeftRadius: 4,\r\n    borderBottomLeftRadius: 4\r\n  },\r\n  btn: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    color: \"#fff\",\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.main,\r\n      opacity: 0.9\r\n    }\r\n  },\r\n  divider: {\r\n    marginTop: 24,\r\n    marginBottom: 24\r\n  },\r\n  comments: {\r\n    marginTop: 34\r\n  },\r\n  comment: {\r\n    padding: 8,\r\n    marginTop: 6\r\n  },\r\n  addingComment: { color: \"#fff\" }\r\n});\r\n\r\nfunction Course({\r\n  classes,\r\n  match,\r\n  getCourse,\r\n  course,\r\n  loading,\r\n  addComment,\r\n  adding_comment\r\n}) {\r\n  const [commentText, setCommentText] = useState(\"\");\r\n  const [showModal, setShowModal] = useState(false);\r\n  useEffect(\r\n    () => {\r\n      getCourse(match.params.id.split(\"-\").join(\" \"));\r\n    },\r\n    [\r\n      /*match.params.id*/\r\n    ]\r\n  );\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setShowModal(true);\r\n    }, 10000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n  function closeModal() {\r\n    setShowModal(false);\r\n  }\r\n  function postComment() {\r\n    if (commentText.length > 0) {\r\n      addComment(course._id, commentText);\r\n      setCommentText(\"\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Layout bgLight>\r\n      <div className=\"ptop\">\r\n        <Container className={classes.container}>\r\n          <AdModal isOpen={showModal} closeModal={closeModal} />\r\n          {course && (\r\n            <Grid container spacing={2}>\r\n              <Grid item md={8} sm={12} style={{ width: \"100%\" }}>\r\n                {loading && <Typography>Chargement....</Typography>}\r\n                <Paper className=\"padding\">\r\n                  <div className=\"header\">\r\n                    <Typography variant=\"h5\">{course.title}</Typography>\r\n                    <Typography\r\n                      className=\"hideForSmall\"\r\n                      color=\"textSecondary\"\r\n                      variant=\"caption\"\r\n                    >\r\n                      {moment(course.createdAt).fromNow()}\r\n                    </Typography>\r\n                  </div>\r\n                  <CardMedia\r\n                    image={course.cover}\r\n                    className=\"cover\"\r\n                  />\r\n                  <Box mt={2} className=\"d-flex justify-content-between\">\r\n                    <div className=\"d-flex\">\r\n                      {course.rating && (\r\n                        <div className=\"d-flex align-items-center feature align-items-center\">\r\n                          {Array.from({ length: Math.ceil(course.rating) }).map(\r\n                            (_, i) => (\r\n                              <Star key={i} color=\"primary\" />\r\n                            )\r\n                          )}\r\n                          {Array.from({\r\n                            length: 5 - Math.ceil(course.rating)\r\n                          }).map((_, i) => (\r\n                            <Star key={i} />\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                      <div className=\"d-flex align-items-center feature align-items-center\">\r\n                        <CommentIcon />\r\n                        <span style={{ marginLeft: 6 }}>\r\n                          {course.commentsCount}\r\n                        </span>\r\n\r\n                        <div style={{ marginLeft: 10 }}>\r\n                          <Download\r\n                            title={course.title}\r\n                            uri={course.url}\r\n                            courseId={course._id}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    {/*<div className=\"d-flex align-items-center feature align-items-center\">\r\n                                          {course.format === \"Video\" && (\r\n                                            <div className=\"ml-1\">\r\n                                              <CourseVideoComponent courseTitle={course.title} video={video} />\r\n                                            </div>\r\n                                          )}\r\n                                        </div>*/}\r\n                  </Box>\r\n\r\n                  <Box mt={2}>\r\n                    <Typography>{course.description}</Typography>\r\n                  </Box>\r\n                  <Box mt={2}>\r\n                    {course.author && (\r\n                      <Typography variant=\"body2\">\r\n                        <u>Professeur:</u> {course.author}\r\n                      </Typography>\r\n                    )}\r\n                    <div style={{ marginTop: 8 }}>\r\n                      <Rate courseId={course._id} />\r\n                    </div>\r\n                  </Box>\r\n                  <Divider className={classes.divider} />\r\n                  <div className={classes.comments}>\r\n                    <Typography>Commentaires</Typography>\r\n\r\n                    <Box mt={2} mb={2} className=\"d-flex\">\r\n                      <Input\r\n                        className={classes.input}\r\n                        fullWidth\r\n                        placeholder=\"Ecrire un commentaire...\"\r\n                        value={commentText}\r\n                        onChange={e => setCommentText(e.target.value)}\r\n                      />\r\n                      <Button onClick={postComment} className={classes.btn}>\r\n                        {!adding_comment && <SendIcon />}\r\n                        {adding_comment && (\r\n                          <CircularProgress\r\n                            size={24}\r\n                            className={classes.addingComment}\r\n                          />\r\n                        )}\r\n                      </Button>\r\n                    </Box>\r\n\r\n                    <Comments comments={course.comments} />\r\n                  </div>\r\n                </Paper>\r\n              </Grid>\r\n              <Grid item md={4} sm={12}>\r\n                {showModal}\r\n                <ExerciceList course={course} />\r\n              </Grid>\r\n            </Grid>\r\n          )}\r\n        </Container>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nCourse.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  match: PropTypes.object.isRequired,\r\n  course: PropTypes.object,\r\n  loading: PropTypes.bool.isRequired,\r\n  addComment: PropTypes.func.isRequired,\r\n  adding_comment: PropTypes.bool.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  course: state.course.course,\r\n  loading: state.course.loading_course,\r\n  adding_comment: state.course.adding_comment\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getCourse,\r\n  addComment\r\n};\r\n\r\nexport default withStyles(styles)(\r\n  connect(mapStateToProps, mapDispatchToProps)(Course)\r\n);\r\n","import React, { useState, useEffect } from \"react\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Input from \"@material-ui/core/InputBase\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport axios from \"axios\";\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { getCourses } from \"../../redux/actions/course\";\r\nconst styles = theme => ({\r\n  filter: {\r\n    marginBottom: 14,\r\n    \"& .mt-sm\": {\r\n      [theme.breakpoints.down(600)]: {\r\n        marginBottom: 0\r\n      }\r\n    },\r\n    \"& .searchBtn\": {\r\n      [theme.breakpoints.up(600)]: {\r\n        marginTop: 30\r\n      },\r\n      [theme.breakpoints.down(600)]: {\r\n        marginTop: -12\r\n      }\r\n    },\r\n    \"& .category-filter\": {\r\n      [theme.breakpoints.down(600)]: {\r\n        marginTop: -12\r\n      }\r\n    }\r\n  },\r\n  input: {\r\n    backgroundColor: \"#fff\",\r\n    padding: \"2px 12px\",\r\n    border: \"1px solid #ddd\",\r\n    width: \"100%\",\r\n    marginTop: 6\r\n  },\r\n  option: {\r\n    paddingLeft: 14,\r\n    padding: 8\r\n  }\r\n});\r\n\r\nfunction Filter({ classes, getCourses }) {\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n  const [category, setCategory] = useState(\"Toutes\");\r\n  const [levels, setLevels] = useState([]);\r\n  const [level, setLevel] = useState(\"Toutes\");\r\n\r\n  useEffect(() => {\r\n    //get categories\r\n    axios.get(\"/categories\").then(res => {\r\n      setCategories([{ name: \"Toutes\", _id: \"Toutes\" }, ...res.data]);\r\n    });\r\n    //get levels\r\n    axios.get(\"/levels\").then(res => {\r\n      setLevels([{ name: \"Toutes\", _id: \"Toutes\" }, ...res.data]);\r\n    });\r\n  }, []);\r\n\r\n  function handleCategoryChange(e) {\r\n    setCategory(e.target.value);\r\n  }\r\n  function handleLevelChange(e) {\r\n    setLevel(e.target.value);\r\n  }\r\n  function handleSearchTextChange(e) {\r\n    setSearchText(e.target.value);\r\n  }\r\n  function searchCourses() {\r\n    const params = {};\r\n    if (searchText.length) params.title = searchText;\r\n    if (category.length && category !== \"Toutes\") params.category = category;\r\n    if (level.length && level !== \"Toutes\") params.level = level;\r\n    getCourses(params);\r\n  }\r\n  return (\r\n    <Grid\r\n      container\r\n      alignItems=\"center\"\r\n      //justify=\"space-between\"\r\n      className={classes.filter}\r\n      spacing={2}\r\n    >\r\n      <Grid item sm={3} xs={12}>\r\n        <Typography>Rechercher</Typography>\r\n        <Input\r\n          placeholder=\"Rechercher par sujet ou titre...\"\r\n          onChange={handleSearchTextChange}\r\n          value={searchText}\r\n          className={classes.input}\r\n          id=\"searchText\"\r\n        />\r\n      </Grid>\r\n      <Grid item sm={3} xs={12}>\r\n        <Box className=\"category-filter\">\r\n          <Typography>Matière</Typography>\r\n          <Select\r\n            //value={category}\r\n            name=\"categories\"\r\n            onChange={handleCategoryChange}\r\n            fullWidth\r\n            className={classes.input}\r\n            placeholder=\"Choisir une matière\"\r\n            defaultValue={category}\r\n          >\r\n            {categories.map((cat, i) => (\r\n              <option key={i} value={cat._id} className={classes.option}>\r\n                {cat.name}\r\n              </option>\r\n            ))}\r\n          </Select>\r\n        </Box>\r\n      </Grid>\r\n      <Grid item sm={3} xs={12}>\r\n        <Box className=\"category-filter\">\r\n          <Typography>Classe</Typography>\r\n          <Select\r\n            value={level}\r\n            name=\"levels\"\r\n            onChange={handleLevelChange}\r\n            fullWidth\r\n            className={classes.input}\r\n            placeholder=\"Choisir un niveau\"\r\n          >\r\n            {levels.map((level, i) => (\r\n              <option key={i} value={level._id} className={classes.option}>\r\n                {level.name}\r\n              </option>\r\n            ))}\r\n          </Select>\r\n        </Box>\r\n      </Grid>\r\n      <Grid item sm={2} xs={12}>\r\n        <Button\r\n          onClick={searchCourses}\r\n          className=\"searchBtn\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n        >\r\n          Rechercher\r\n        </Button>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  getCourses\r\n};\r\n\r\nexport default withStyles(styles)(connect(null, mapDispatchToProps)(Filter));\r\n","import React, { useEffect } from \"react\";\r\n//import { useParams } from \"react-router-dom\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\n//components\r\nimport Filter from \"../components/layout/Filter\";\r\nimport CourseCard from \"../components/course/CourseCard\";\r\nimport Layout from \"../components/layout/Layout\";\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { getCourses } from \"../redux/actions/course\";\r\n\r\nconst styles = theme => ({\r\n  courselistcontainer: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(4, 1fr)\",\r\n    gridGap: 20,\r\n\r\n    [theme.breakpoints.down(968)]: {\r\n      gridTemplateColumns: \"repeat(3, 1fr)\"\r\n    },\r\n    [theme.breakpoints.down(728)]: {\r\n      gridTemplateColumns: \"repeat(2, 1fr)\"\r\n    },\r\n    [theme.breakpoints.down(498)]: {\r\n      gridTemplateColumns: \"1fr\"\r\n    }\r\n  }\r\n});\r\n\r\nfunction Courses({ classes, getCourses, courses, loading, match }) {\r\n  //const { category } = useParams();\r\n  const { category } = match.params;\r\n  useEffect(() => {\r\n    getCourses();\r\n  }, []);\r\n  return (\r\n    <Layout bgLight>\r\n      <div className=\"container ptop\">\r\n        <Filter categoryParams={category} />\r\n        {courses.length > 0 && (\r\n          <Box mt={2} mb={2}>\r\n            <Typography>\r\n              {courses.length} cours trouvé\r\n              {courses.length > 1 ? \"s\" : \"\"}.\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n        <Grid id=\"courses\" className={classes.courselistcontainer}>\r\n          {courses.map((course, i) => (\r\n            <CourseCard key={i} course={course} />\r\n          ))}\r\n          {loading &&\r\n            Array.from({ length: 8 }).map((_, i) => (\r\n              <Card className=\"courseCardSkeleton\" key={i}></Card>\r\n            ))}\r\n        </Grid>\r\n        {!loading && courses.length === 0 && (\r\n          <Typography>\r\n            Aucun cours ne correspond à vos recherches pour le moment...\r\n          </Typography>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  courses: state.course.courses,\r\n  loading: state.course.loading\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getCourses\r\n};\r\n\r\nexport default withStyles(styles)(\r\n  connect(mapStateToProps, mapDispatchToProps)(Courses)\r\n);\r\n","import React, { useState, useEffect } from \"react\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport axios from \"axios\";\r\nconst styles = theme => ({\r\n  filter: {\r\n    marginBottom: 14,\r\n    [theme.breakpoints.down(600)]: {\r\n      marginTop: 8\r\n    },\r\n    \"& .mt-sm\": {\r\n      [theme.breakpoints.down(600)]: {\r\n        marginBottom: 0\r\n      }\r\n    },\r\n    \"& .searchBtn\": {\r\n      [theme.breakpoints.up(600)]: {\r\n        marginTop: 30\r\n      },\r\n      [theme.breakpoints.down(600)]: {\r\n        marginTop: -12\r\n      }\r\n    },\r\n    \"& .category-filter\": {\r\n      [theme.breakpoints.down(600)]: {\r\n        marginTop: -12\r\n      }\r\n    }\r\n  },\r\n  input: {\r\n    backgroundColor: \"#fff\",\r\n    padding: \"2px 12px\",\r\n    border: \"1px solid #ddd\",\r\n    width: \"100%\",\r\n    marginTop: 6\r\n  },\r\n  option: {\r\n    paddingLeft: 14,\r\n    padding: 8\r\n  }\r\n});\r\n\r\nfunction BanqueFilter({ classes, onParamsChange }) {\r\n  const [categories, setCategories] = useState([]);\r\n  const [category, setCategory] = useState(\"Toutes\");\r\n  const [levels, setLevels] = useState([]);\r\n  const [level, setLevel] = useState(\"Toutes\");\r\n\r\n  useEffect(() => {\r\n    //get categories\r\n    axios.get(\"/categories\").then(res => {\r\n      setCategories([{ name: \"Toutes\", _id: \"Toutes\" }, ...res.data]);\r\n    });\r\n    //get levels\r\n    axios.get(\"/levels\").then(res => {\r\n      setLevels([{ name: \"Toutes\", _id: \"Toutes\" }, ...res.data]);\r\n    });\r\n  }, []);\r\n\r\n  function handleCategoryChange(e) {\r\n    setCategory(e.target.value);\r\n  }\r\n  function handleLevelChange(e) {\r\n    setLevel(e.target.value);\r\n  }\r\n  function searchBanque() {\r\n    const params = {};\r\n    if (category.length && category !== \"Toutes\") params.category = category;\r\n    if (level.length && level !== \"Toutes\") params.level = level;\r\n    onParamsChange(params);\r\n  }\r\n  return (\r\n    <Grid\r\n      container\r\n      alignItems=\"center\"\r\n      //justify=\"space-between\"\r\n      className={classes.filter}\r\n      spacing={2}\r\n    >\r\n      <Grid item sm={3} xs={12}>\r\n        <Box className=\"category-filter\">\r\n          <Typography>Matière</Typography>\r\n          <Select\r\n            value={category}\r\n            name=\"categories\"\r\n            onChange={handleCategoryChange}\r\n            fullWidth\r\n            className={classes.input}\r\n            placeholder=\"Choisir une matière\"\r\n          >\r\n            {categories.map((cat, i) => (\r\n              <option key={i} value={cat._id} className={classes.option}>\r\n                {cat.name}\r\n              </option>\r\n            ))}\r\n          </Select>\r\n        </Box>\r\n      </Grid>\r\n      <Grid item sm={3} xs={12}>\r\n        <Box className=\"category-filter\">\r\n          <Typography>Classe</Typography>\r\n          <Select\r\n            value={level}\r\n            name=\"levels\"\r\n            onChange={handleLevelChange}\r\n            fullWidth\r\n            className={classes.input}\r\n            placeholder=\"Choisir un niveau\"\r\n          >\r\n            {levels.map((level, i) => (\r\n              <option key={i} value={level._id} className={classes.option}>\r\n                {level.name}\r\n              </option>\r\n            ))}\r\n          </Select>\r\n        </Box>\r\n      </Grid>\r\n      <Grid item sm={2} xs={12}>\r\n        <Button\r\n          onClick={searchBanque}\r\n          className=\"searchBtn\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n        >\r\n          Rechercher\r\n        </Button>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(BanqueFilter);\r\n","import React, { useState, useEffect } from \"react\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Card from \"@material-ui/core/Card\";\r\n\r\n//components\r\nimport Filter from \"../components/layout/FilterBanque\";\r\nimport Layout from \"../components/layout/Layout\";\r\nimport Download from \"../components/course/Download\";\r\nimport axios from \"axios\";\r\nimport { Typography, CardMedia } from \"@material-ui/core\";\r\nconst styles = theme => ({\r\n  list_container: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(5, 1fr)\",\r\n    gridGap: 20,\r\n\r\n    [theme.breakpoints.down(968)]: {\r\n      gridTemplateColumns: \"repeat(4, 1fr)\"\r\n    },\r\n    [theme.breakpoints.down(728)]: {\r\n      gridTemplateColumns: \"repeat(3, 1fr)\"\r\n    },\r\n    [theme.breakpoints.down(498)]: {\r\n      gridTemplateColumns: \"repeat(2, 1fr)\"\r\n    },\r\n    [theme.breakpoints.down(320)]: {\r\n      gridTemplateColumns: \"1fr\"\r\n    }\r\n  },\r\n  list_item: {\r\n    position: \"relative\",\r\n    backgroundColor: \"#FFF\",\r\n    \"&:hover\": {\r\n      transform: \"translateY(-8px)\",\r\n      transition: \"all 1s\"\r\n    },\r\n    //height: 180,\r\n    \"& .img\": {\r\n      height: 140\r\n    },\r\n    \"& .banque-details\": {\r\n      padding: \"4px 12px\",\r\n      backgroundColor: \"#fff\"\r\n    }\r\n  },\r\n  loading_item: {\r\n    height: 220,\r\n    width: \"100%\",\r\n    backgroundColor: \"#fff\"\r\n  },\r\n  downloadIcon: {\r\n    position: \"absolute\",\r\n    right: 8,\r\n    bottom: 8\r\n  }\r\n});\r\n\r\nfunction Banque({ classes }) {\r\n  const [banque, setBanque] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  function getBanque(params) {\r\n    setLoading(true);\r\n    axios.get(\"/banques\", { params }).then(res => {\r\n      setBanque(res.data);\r\n      setLoading(false);\r\n    });\r\n  }\r\n  useEffect(() => {\r\n    getBanque();\r\n  }, []);\r\n  function handleParamsChange(params) {\r\n    getBanque(params);\r\n  }\r\n  return (\r\n    <Layout bgLight>\r\n      <div className=\"container ptop\">\r\n        <Filter onParamsChange={handleParamsChange} />\r\n        {banque.length > 0 && (\r\n          <Typography style={{ marginBottom: 12 }}>\r\n            {banque.length} épreuve{banque.length > 1 ? \"s\" : \"\"}\r\n          </Typography>\r\n        )}\r\n        {!loading && banque.length === 0 && (\r\n          <Typography>\r\n            Aucune épreuve ne correspond à votre recherche pour le moment...\r\n          </Typography>\r\n        )}\r\n        <Grid className={classes.list_container}>\r\n          {!loading &&\r\n            banque.map(({ _id, url, level, category }) => (\r\n              <Card className={classes.list_item} key={_id}>\r\n                <CardMedia\r\n                  className=\"img\"\r\n                  image={require(\"../images/pdf-img.jpg\")}\r\n                />\r\n                <div className=\"banque-details\">\r\n                  <Typography>{category.name}</Typography>\r\n                  <Typography>{level.name}</Typography>\r\n                </div>\r\n\r\n                <div className={classes.downloadIcon}>\r\n                  <Download icon uri={url} />\r\n                </div>\r\n              </Card>\r\n            ))}\r\n          {loading &&\r\n            Array.from({ length: 10 }).map((_, i) => (\r\n              <Card className={classes.loading_item} key={i} />\r\n            ))}\r\n        </Grid>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(Banque);\r\n","import React from \"react\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nimport banner from \"../images/3.jpg\";\r\nimport Layout from \"../components/layout/Layout\";\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    maxWidth: 850,\r\n    margin: \"auto\",\r\n    padding: 14\r\n  },\r\n  image: {\r\n    width: \"85%\",\r\n    height: 450,\r\n    borderRadius: 3,\r\n    backgroundColor: \"#f1f1f1\",\r\n    objectFit: \"cover\",\r\n    [theme.breakpoints.down(600)]: {\r\n      width: \"100%\",\r\n      height: \"auto\"\r\n    }\r\n  },\r\n  textContainer: {\r\n    marginLeft: -140,\r\n    marginTop: 150,\r\n    padding: \"13vmin 10vmin\",\r\n    backgroundColor: \"#fff\",\r\n    boxShadow: \"0px 1px 18px rgba(0,0,0,0.14)\",\r\n    [theme.breakpoints.down(600)]: {\r\n      margin: 0\r\n    },\r\n    \"& h5\": {\r\n      fontWeight: \"600\"\r\n    },\r\n    \"& p\": {\r\n      color: \"#444\"\r\n    },\r\n    \"& .relative\": { position: \"relative\" },\r\n    \"& .underliner\": {\r\n      position: \"absolute\",\r\n      bottom: -20,\r\n      left: -10,\r\n      backgroundColor: theme.palette.primary.main,\r\n      height: 4,\r\n      width: 55,\r\n      borderRadius: 4\r\n    }\r\n  }\r\n});\r\n\r\nfunction About({ classes }) {\r\n  return (\r\n    <Layout>\r\n      <div className=\"bg-white\">\r\n        <div className={`mtop ${classes.container}`}>\r\n          <Grid container>\r\n            <Grid item sm={6}>\r\n              <img src={banner} className={classes.image} alt=\"\" />\r\n            </Grid>\r\n            <Grid item sm={6}>\r\n              <div className={classes.textContainer}>\r\n                <Box mb={3} className=\"relative\">\r\n                  <Typography variant=\"h5\">Notre mission</Typography>\r\n                  <hr className=\"underliner\" />\r\n                </Box>\r\n                <Typography>\r\n                  E-classe est une plateforme de e-learning (de cours en ligne)\r\n                  mise en place par la fondation Invest in Life Foundation,\r\n                  résolument engagée avec dans la lutte pour l’éducation des\r\n                  enfants, qui a pour but d’assurer aux apprenants un\r\n                  déroulement correct et sans encombre du calendrier scolaire\r\n                  2020-2021 et suivant.<br/> Cette initiative vise à accompagner le\r\n                  Programme d’Action du Gouvernement (PAG) du président Patrice\r\n                  TALON dans son ambition de faire du Bénin le quartier\r\n                  numérique de l’Afrique.\r\n                </Typography>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\nexport default withStyles(styles)(About);\r\n","import React from \"react\";\r\nimport { Typography, Container } from \"@material-ui/core\";\r\nimport Layout from \"../components/layout/Layout\";\r\n\r\nexport default function Contact() {\r\n  return (\r\n    <Layout>\r\n      <Container className=\"mtop\">\r\n        <Typography variant=\"h4\">Contactez-nous</Typography>\r\n      </Container>\r\n    </Layout>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n//core\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Label from \"@material-ui/core/FormLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\n\r\n//icons\r\nimport PlusIcon from \"@material-ui/icons/Add\";\r\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport axios from \"axios\";\r\nimport useStorage from \"../../hooks/useStorage\";\r\nimport storage from \"../../firebase\"\r\nimport { validateCourseData } from \"../../utils/validator\"\r\n\r\nconst styles = theme => ({\r\n  dialogContent: {\r\n    \"& .upload\": {\r\n      padding: \"6px 16px\",\r\n      cursor: \"pointer\",\r\n      backgroundColor: \"#f5f5f5\"\r\n    }\r\n  },\r\n  textField: {\r\n    marginTop: 10\r\n  },\r\n  option: {\r\n    paddingLeft: 14,\r\n    padding: 8,\r\n    \"&:hover\": {\r\n      backgroundColor: \"#f1f1f1\"\r\n    }\r\n  },\r\n  submitBtn: {\r\n    marginRight: 14,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.dark\r\n    }\r\n  },\r\n  progress: {\r\n    position: \"absolute\",\r\n    color: theme.palette.primary.main\r\n  }\r\n});\r\n\r\nfunction AddCourse({ classes, handleAddCourse }) {\r\n  const [open, setOpen] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n  const [level, setLevel] = useState(\"\");\r\n  const [levels, setLevels] = useState([]);\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [cover, setCover] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState(null);\r\n    const { url, progress } = useStorage(file, \"cours\", loading);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/categories\").then(res => {\r\n      setCategories(res.data);\r\n    });\r\n    axios.get(\"/levels\").then(res => {\r\n      setLevels(res.data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const data = {title, description, author, category, level}\r\n    if (url) {\r\n      data.url = url\r\n      if(cover) {\r\n        const coverRef = storage.ref().child(`couvertures/${cover.name}`);\r\n        coverRef.put(cover).then(async coverUpload => {\r\n          const coverUrl = await coverRef.getDownloadURL();\r\n          data.cover = coverUrl;\r\n      axios\r\n        .post(`/courses`, data)\r\n        .then(res => {\r\n        setLoading(false);\r\n        closeModal();\r\n        handleAddCourse(res.data);\r\n      })\r\n      .catch(e => {\r\n        console.error(e);\r\n        setErrors(e.response.data);\r\n        setLoading(false);\r\n      });\r\n        })\r\n      } else {\r\n        axios\r\n        .post(`/courses`, data)\r\n        .then(res => {\r\n        setLoading(false);\r\n        closeModal();\r\n        handleAddCourse(res.data);\r\n      })\r\n      .catch(e => {\r\n        console.error(e);\r\n        setErrors(e.response.data);\r\n        setLoading(false);\r\n      });\r\n      }\r\n    }\r\n  }, [url]);\r\n\r\n\r\n  function openModal() {\r\n    setOpen(true);\r\n  }\r\n  function closeModal() {\r\n    setOpen(false);\r\n    setTitle(\"\");\r\n    setDescription(\"\");\r\n    setCategory(\"\");\r\n    setLevel(\"\");\r\n    setFile(null);\r\n    setCover(null);\r\n    setAuthor(\"\");\r\n  }\r\n  function handleFileChange(e) {\r\n    setFile(e.target.files[0]);\r\n  }\r\n  function handleCoverChange(e) {\r\n    setCover(e.target.files[0]);\r\n  }\r\n  function handleCategoryChange(e) {\r\n    setCategory(e.target.value);\r\n  }\r\n  function handleLevelChange(e) {\r\n    setLevel(e.target.value);\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n        const data = {title, description, author, category, level, url: file};\r\n    const {valid, errors } = validateCourseData(data);\r\n    if(valid) {\r\n      setLoading(true)\r\n    } else {\r\n      setErrors(errors)\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <Button onClick={openModal} className=\"bg-primary white\">\r\n        <PlusIcon /> Ajouter un cours\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={closeModal}\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        className=\"dialog\"\r\n      >\r\n        <DialogTitle>Ajouter un nouveau cours</DialogTitle>\r\n        {progress && (\r\n          <div className=\"progress-container\">\r\n            <LinearProgress variant=\"determinate\" value={progress} />\r\n          </div>\r\n        )}\r\n        <DialogContent className={classes.dialogContent}>\r\n          <form>\r\n            <TextField\r\n              type=\"text\"\r\n              className={classes.textField}\r\n              name=\"title\"\r\n              label=\"Titre du cours\"\r\n              value={title}\r\n              onChange={e => setTitle(e.target.value)}\r\n              placeholder=\"ex: Anglais pour les nuls\"\r\n              fullWidth\r\n              error={errors && errors.title ? true : false}\r\n              helperText={errors && errors.title}\r\n            />\r\n            <TextField\r\n              type=\"text\"\r\n              className={classes.textField}\r\n              name=\"description\"\r\n              label=\"Description\"\r\n              value={description}\r\n              onChange={e => setDescription(e.target.value)}\r\n              multiline\r\n              rows=\"2\"\r\n              placeholder=\"Décrivez le cours...\"\r\n              fullWidth\r\n              error={errors && errors.description ? true : false}\r\n              helperText={errors && errors.description}\r\n            />\r\n\r\n            <Box mt={3}>\r\n              <Label htmlFor=\"category\">Matière</Label>\r\n              <Select\r\n                value={category}\r\n                name=\"categories\"\r\n                onChange={handleCategoryChange}\r\n                fullWidth\r\n                className={classes.input}\r\n                id=\"category\"\r\n              >\r\n                {categories.map((cat, i) => (\r\n                  <option key={i} value={cat._id} className={classes.option}>\r\n                    {cat.name}\r\n                  </option>\r\n                ))}\r\n              </Select>\r\n              {errors && errors.category && (\r\n                <Typography variant=\"caption\" color=\"error\">\r\n                  {errors.category}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n            <Box mt={3}>\r\n              <Label htmlFor=\"level\">Niveau</Label>\r\n              <Select\r\n                value={level}\r\n                name=\"levels\"\r\n                onChange={handleLevelChange}\r\n                fullWidth\r\n                className={classes.input}\r\n                id=\"level\"\r\n              >\r\n                {levels.map((level, i) => (\r\n                  <option key={i} value={level._id} className={classes.option}>\r\n                    {level.name}\r\n                  </option>\r\n                ))}\r\n              </Select>\r\n              {errors && errors.level && (\r\n                <Typography variant=\"caption\" color=\"error\">\r\n                  {errors.level}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n            <TextField\r\n              type=\"text\"\r\n              className={classes.textField}\r\n              name=\"author\"\r\n              label=\"Auteur\"\r\n              value={author}\r\n              onChange={e => setAuthor(e.target.value)}\r\n              placeholder=\"Nom de l'auteur\"\r\n              fullWidth\r\n              error={errors && errors.author ? true : false}\r\n              helperText={errors && errors.author}\r\n            />\r\n            <Box mt={4} mb={2}>\r\n              <input\r\n                type=\"file\"\r\n                id=\"fileInput\"\r\n                className={classes.textField}\r\n                name=\"file\"\r\n                hidden\r\n                label=\"Fichier (Video, PDF...)\"\r\n                onChange={handleFileChange}\r\n              />\r\n              <label htmlFor=\"fileInput\">\r\n                <Label>Fichier du cours</Label>\r\n                <Paper className=\"upload\">\r\n                  <Box mr={1}>\r\n                    {file ? (\r\n                      <Typography style={{ marginLeft: 6 }} variant=\"body2\">\r\n                        {file.name}\r\n                      </Typography>\r\n                    ) : (\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <UploadIcon style={{ marginRight: 6 }} />\r\n                        <Typography>\r\n                          Selectionner le fichier du cours\r\n                        </Typography>\r\n                      </div>\r\n                    )}\r\n                  </Box>\r\n                </Paper>\r\n              </label>\r\n              {errors && errors.url && (\r\n                <Typography variant=\"body2\" color=\"error\">\r\n                  {errors.url}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n            <Box mt={4}>\r\n              <input\r\n                type=\"file\"\r\n                id=\"coverInput\"\r\n                className={classes.textField}\r\n                name=\"cover\"\r\n                hidden\r\n                onChange={handleCoverChange}\r\n              />\r\n              <label htmlFor=\"coverInput\">\r\n                <Label>Image de couverture</Label>\r\n                <Paper className=\"upload\">\r\n                  <Box mr={1}>\r\n                    {cover ? (\r\n                      <Typography style={{ marginLeft: 6 }} variant=\"body2\">\r\n                        {cover.name}\r\n                      </Typography>\r\n                    ) : (\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <ImageIcon style={{ marginRight: 6 }} />\r\n                        <Typography>\r\n                          Selectionner l'image de couverture du cours\r\n                        </Typography>\r\n                      </div>\r\n                    )}\r\n                  </Box>\r\n                </Paper>\r\n              </label>\r\n            </Box>\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Box mt={2} mb={2}>\r\n            <Button\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={`${classes.submitBtn} white`}\r\n              onClick={handleSubmit}\r\n              type=\"submit\"\r\n            >\r\n              Ajouter\r\n              {loading && (\r\n                <CircularProgress size={20} className={classes.progress} />\r\n              )}\r\n            </Button>\r\n            <Button\r\n              style={{ marginRight: 14 }}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={closeModal}\r\n            >\r\n              Annuler\r\n            </Button>\r\n          </Box>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nAddCourse.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  handleAddCourse: PropTypes.func.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(AddCourse);\r\n","import React, { useState } from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Btn from \"../layout/Btn\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\n\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { deleteCourse } from \"../../redux/actions/course\";\r\n\r\nconst styles = {\r\n  deleteBtn: {\r\n    /*position: \"absolute\",\r\n    top: 0,\r\n    right: \"2%\"*/\r\n  }\r\n};\r\n\r\nfunction DeleteCourse({ deleteCourse, id, url, classes, isAdmin }) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  function handleOpen() {\r\n    setOpen(true);\r\n  }\r\n  function handleClose() {\r\n    setOpen(false);\r\n  }\r\n\r\n  function handleDeleteComment() {\r\n    deleteCourse(id, url);\r\n    handleClose();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isAdmin ? (\r\n        <>\r\n          <Btn\r\n            btnClassName={classes.deleteBtn}\r\n            tip=\"Supprimer ce cours\"\r\n            onClick={handleOpen}\r\n          >\r\n            <DeleteOutline fontSize=\"small\" color=\"secondary\" />\r\n          </Btn>\r\n          <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\r\n            <DialogTitle>\r\n              Etes-vous sûr de vouloir supprimer ce cours?\r\n            </DialogTitle>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={handleClose}>\r\n                Non\r\n              </Button>\r\n              <Button color=\"secondary\" onClick={handleDeleteComment}>\r\n                Oui\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        </>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteCourse\r\n};\r\nconst mapStateToProps = state => ({\r\n  isAdmin: state.user.user && state.user.user.role === \"admin\"\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(styles)(DeleteCourse));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ListItem from \"@material-ui/core/List\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Btn from \"../layout/Btn\";\r\n//icons\r\nimport ListIcon from \"@material-ui/icons/ListAlt\";\r\nimport CategoriesIcon from \"@material-ui/icons/List\";\r\nimport BanqueIcon from \"@material-ui/icons/Description\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport LogoutIcon from \"@material-ui/icons/ArrowForward\";\r\nimport AdIcon from \"@material-ui/icons/Adb\"\r\n\r\nimport { Link } from \"react-router-dom\";\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../../redux/actions/user\";\r\n\r\nfunction MenuItems({ logoutUser }) {\r\n  const active = url => {\r\n    return window.location.pathname === `/admin/${url}` ? \"active-btn\" : null;\r\n  };\r\n  function handleLogoutUser() {\r\n    logoutUser();\r\n    window.history.pushState(null, null, \"/\");\r\n  }\r\n  return (\r\n    <div className=\"menu-items\">\r\n      <Link className={active(\"cours\")} to=\"/admin/cours\">\r\n        <ListItem className=\"d-flex\">\r\n          <ListItemIcon className=\"list-icon\">\r\n            <Btn tip=\"Cours\">\r\n              <ListIcon />\r\n            </Btn>\r\n          </ListItemIcon>\r\n          <ListItemText className=\"list-text\" primary=\"Cours\" />\r\n        </ListItem>\r\n      </Link>\r\n      <Link className={active(\"categories\")} to=\"/admin/categories\">\r\n        <ListItem className=\"d-flex\">\r\n          <ListItemIcon className=\"list-icon\">\r\n            <Btn tip=\"Matières et Niveaux\">\r\n              <CategoriesIcon />\r\n            </Btn>\r\n          </ListItemIcon>\r\n          <ListItemText className=\"list-text\" primary=\"Matières / Niveaux\" />\r\n        </ListItem>\r\n      </Link>\r\n      <Link className={active(\"banque\")} to=\"/admin/banque\">\r\n        <ListItem className=\"d-flex\">\r\n          <ListItemIcon className=\"list-icon\">\r\n            <Btn tip=\"Banque\">\r\n              <BanqueIcon />\r\n            </Btn>\r\n          </ListItemIcon>\r\n          <ListItemText className=\"list-text\" primary=\"Banque\" />\r\n        </ListItem>\r\n      </Link>\r\n      <Link className={active(\"utilisateurs\")} to=\"/admin/utilisateurs\">\r\n        <ListItem className=\"d-flex\">\r\n          <ListItemIcon className=\"list-icon\">\r\n            {/*<ListIcon />*/}\r\n            <Btn tip=\"Utilisateurs\">\r\n              <PeopleIcon />\r\n            </Btn>\r\n          </ListItemIcon>\r\n          <ListItemText className=\"list-text\" primary=\"Utilisateurs\" />\r\n        </ListItem>\r\n      </Link>\r\n      <Link className={active(\"publicités\")} to=\"/admin/publicités\">\r\n        <ListItem className=\"d-flex\">\r\n          <ListItemIcon className=\"list-icon\">\r\n            {/*<ListIcon />*/}\r\n            <Btn tip=\"Publicités\">\r\n              <AdIcon />\r\n            </Btn>\r\n          </ListItemIcon>\r\n          <ListItemText className=\"list-text\" primary=\"Publicités\" />\r\n        </ListItem>\r\n      </Link>\r\n\r\n      <ListItem className=\"d-flex\">\r\n        <ListItemIcon className=\"list-icon\">\r\n          <Btn onClick={handleLogoutUser} tip=\"Se déconnecter\">\r\n            <LogoutIcon color=\"error\" />\r\n          </Btn>\r\n        </ListItemIcon>\r\n        <ListItemText className=\"list-text\" primary=\"Se déconnecter\" />\r\n      </ListItem>\r\n    </div>\r\n  );\r\n}\r\n\r\nMenuItems.propTypes = {\r\n  logoutUser: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  logoutUser\r\n};\r\nexport default connect(null, mapDispatchToProps)(MenuItems);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport MenuItems from \"./MenuItems\";\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport Btn from \"../utils/Btn\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\"\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24 // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    })\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    })\r\n  },\r\n  menuButton: {\r\n    marginRight: 36\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\"\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    })\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9)\r\n    }\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n    \"& .bg-primary\": {\r\n      backgroundColor: theme.palette.primary.main\r\n    },\r\n    \"& .first-row\": {\r\n      marginTop: 10,\r\n      marginBottom: 10\r\n    },\r\n    \"& .topBar\": {\r\n      position: \"fixed\",\r\n      width: \"100%\",\r\n      backgroundColor: \"#fff\",\r\n      zIndex: 99\r\n    }\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n    \"& .table-row:hover\": {\r\n      backgroundColor: \"#f9f9f9\"\r\n    }\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\"\r\n  }\r\n}));\r\n\r\nfunction AdminLayout({ children, user }) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"absolute\"\r\n        className={clsx(classes.appBar, open && classes.appBarShift)}\r\n      >\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(\r\n              classes.menuButton,\r\n              open && classes.menuButtonHidden\r\n            )}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n            <Typography\r\n              component=\"h1\"\r\n              variant=\"h6\"\r\n              color=\"inherit\"\r\n              noWrap\r\n              className={classes.title}\r\n            >\r\n              Tableau de Bord\r\n            </Typography>\r\n            <Typography\r\n              component={Link}\r\n              to=\"/\"\r\n              //variant=\"h6\"\r\n              color=\"inherit\"\r\n              className={classes.title}\r\n            >\r\n              Accueil\r\n            </Typography>\r\n          <div/>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose)\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <Btn tip=\"Fermer\" onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </Btn>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <MenuItems />\r\n        </List>\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n          {children}\r\n        </Container>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdminLayout);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { TableHead, TableCell } from \"@material-ui/core\";\r\nimport AddCourse from \"../../components/admin/AddCourse\";\r\n//icons\r\nimport View from \"@material-ui/icons/Visibility\";\r\n/*import DownloadIcon from \"@material-ui/icons/CloudDownload\";\r\nimport Star from \"@material-ui/icons/RateReview\";*/\r\n//redux\r\nimport { connect } from \"react-redux\";\r\nimport { getCourses, addCourse } from \"../../redux/actions/course\";\r\nimport DeleteCourse from \"../../components/course/DeleteCourse\";\r\nimport AdminLayout from \"../../components/admin/AdminLayout\";\r\nimport Btn from \"../../components/utils/Btn\";\r\n\r\nfunction Dashboard({ getCourses, courses, loading, addCourse }) {\r\n  const [message, setMessage] = useState(null);\r\n  useEffect(() => {\r\n    getCourses();\r\n    //setCourses()\r\n  }, []);\r\n  function handleAddCourse(course) {\r\n    addCourse(course);\r\n    setMessage(\"Cours ajouté avec succés\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  return (\r\n    <AdminLayout>\r\n      <Paper className=\"table-container\">\r\n        {message && (\r\n          <Box mb={2}>\r\n            <Alert className=\"alert-message\">{message}</Alert>\r\n          </Box>\r\n        )}\r\n        <Box\r\n          className=\"d-flex justify-content-between align-items-center\"\r\n          p={2}\r\n          pt={4}\r\n        >\r\n          <Typography variant=\"h6\">Liste des cours</Typography>\r\n          <AddCourse handleAddCourse={handleAddCourse} />\r\n        </Box>\r\n        <Table>\r\n          <TableHead\r\n            style={{ backgroundColor: \"#f5f5f5\" }}\r\n            className=\"bg-light\"\r\n          >\r\n            <TableRow>\r\n              <TableCell>Titre</TableCell>\r\n              <TableCell>Matière</TableCell>\r\n              <TableCell>Classe</TableCell>\r\n              <TableCell>Format</TableCell>\r\n              <TableCell>Téléchargements</TableCell>\r\n              <TableCell>Options </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n\r\n          <TableBody>\r\n            {courses.map(\r\n              (\r\n                { _id, title, url, format, category, level, rating, downloadCount },\r\n                i\r\n              ) => (\r\n                <TableRow className=\"table-row\" key={i}>\r\n                  <TableCell>{title}</TableCell>\r\n                  <TableCell>{category.name}</TableCell>\r\n                  <TableCell>{level.name}</TableCell>\r\n                  <TableCell>{format}</TableCell>\r\n                  <TableCell>\r\n                    <span>{downloadCount}</span>\r\n                    {/*rating && (\r\n                      <div className=\"d-flex align-items-center feature align-items-center\">\r\n                        {Array.from({ length: Math.ceil(rating) }).map(\r\n                          (_, i) => (\r\n                            <Star key={i} color=\"primary\" />\r\n                          )\r\n                        )}\r\n                        {Array.from({\r\n                          length: 5 - Math.ceil(rating)\r\n                        }).map((_, i) => (\r\n                          <Star key={i} />\r\n                        ))}\r\n                      </div>\r\n                        )*/}\r\n                  </TableCell>\r\n                  <Link to={`/cours/${title}`}>\r\n                    <Btn tip=\"Voir le cours\">\r\n                      <View size={12} />\r\n                    </Btn>\r\n                  </Link>\r\n                  <DeleteCourse url={url} id={_id} />\r\n                </TableRow>\r\n              )\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n        {loading && (\r\n          <>\r\n            {Array.from({ length: 8 }).map((_, i) => (\r\n              <div key={i} className=\"course-item-loading\" />\r\n            ))}\r\n          </>\r\n        )}\r\n        {/*courses.length === 0 && (\r\n                <>\r\n                  <Typography>Aucun cours n'est disponible</Typography>\r\n                  <AddCourse />\r\n                </>\r\n              )*/}\r\n      </Paper>\r\n    </AdminLayout>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  courses: state.course.courses,\r\n  loading: state.course.loading\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getCourses,\r\n  addCourse\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","import React, { useEffect } from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\n\r\nimport Axios from \"axios\";\r\nimport AdminLayout from \"../../components/admin/AdminLayout\";\r\n\r\nimport moment from \"../../utils/moment\";\r\n\r\nfunction Users() {\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const [users, setUsers] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    Axios.get(\"/users\").then(res => {\r\n      setUsers(res.data);\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n  return (\r\n    <AdminLayout>\r\n      <Paper className=\"table-container\">\r\n        <Table>\r\n          <TableHead\r\n            style={{ backgroundColor: \"#f5f5f5\" }}\r\n            className=\"bg-light\"\r\n          >\r\n            <TableRow>\r\n              <TableCell>Nom d'utilisateur</TableCell>\r\n              <TableCell>Email</TableCell>\r\n              <TableCell>Classe</TableCell>\r\n              <TableCell>Date d'enrégistrement </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n\r\n          <TableBody>\r\n            {users.map(({ _id, username, email, level, createdAt }) => (\r\n              <TableRow className=\"table-row\" key={_id}>\r\n                <TableCell>{username}</TableCell>\r\n                <TableCell>{email}</TableCell>\r\n                <TableCell>{level && level.name}</TableCell>\r\n                <TableCell>\r\n                  {moment(createdAt).format(\"dddd, DD MMM YYYY\")}\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n        {loading && (\r\n          <>\r\n            {Array.from({ length: 8 }).map((_, i) => (\r\n              <div key={i} className=\"course-item-loading\" />\r\n            ))}\r\n          </>\r\n        )}\r\n      </Paper>\r\n    </AdminLayout>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n//core\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Label from \"@material-ui/core/FormLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\n//icons\r\nimport PlusIcon from \"@material-ui/icons/Add\";\r\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport axios from \"axios\";\r\nimport useStorage from \"../../hooks/useStorage\";\r\n\r\nconst styles = theme => ({\r\n  dialogContent: {\r\n    \"& .upload\": {\r\n      padding: \"6px 16px\",\r\n      cursor: \"pointer\",\r\n      backgroundColor: \"#f5f5f5\",\r\n      marginTop: 6\r\n    }\r\n  },\r\n  textField: {\r\n    marginTop: 10\r\n  },\r\n  option: {\r\n    paddingLeft: 14,\r\n    padding: 8,\r\n    \"&:hover\": {\r\n      backgroundColor: \"#f1f1f1\"\r\n    }\r\n  },\r\n  submitBtn: {\r\n    marginRight: 14,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.dark\r\n    }\r\n  },\r\n  progress: {\r\n    position: \"absolute\",\r\n    color: \"#fff\"\r\n  }\r\n});\r\n\r\nfunction AddBanque({ classes, handleAddBanque }) {\r\n  const [open, setOpen] = useState(false);\r\n  const [category, setCategory] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n  const [level, setLevel] = useState(\"\");\r\n  const [levels, setLevels] = useState([]);\r\n  const [file, setFile] = useState(null);\r\n  //const [url, setFileUrl] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const { url, progress } = useStorage(file, \"épreuves\", loading);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/categories\").then(res => {\r\n      setCategories(res.data);\r\n    });\r\n    axios.get(\"/levels\").then(res => {\r\n      setLevels(res.data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      const data = { name: file.name, category, level, url };\r\n      console.log(data)\r\n      axios\r\n        .post(\"/banques\", data)\r\n        .then(res => {\r\n          handleAddBanque(res.data);\r\n          closeModal();\r\n          setLoading(false);\r\n        })\r\n        .catch(e => {\r\n          console.error(e);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, [url]);\r\n\r\n  function openModal() {\r\n    setOpen(true);\r\n  }\r\n  function closeModal() {\r\n    setOpen(false);\r\n    setCategory(\"\");\r\n    setLevel(\"\");\r\n    setFile(null);\r\n  }\r\n  function handleFileChange(e) {\r\n    setFile(e.target.files[0]);\r\n  }\r\n  function handleCategoryChange(e) {\r\n    setCategory(e.target.value);\r\n  }\r\n  function handleLevelChange(e) {\r\n    setLevel(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (file) {\r\n      setLoading(true);\r\n\r\n      /*axios\r\n        .post(\"/banques\", data)\r\n        .then(res => {\r\n          handleAddBanque(res.data);\r\n          closeModal();\r\n          setLoading(false);\r\n        })\r\n        .catch(e => {\r\n          console.error(e);\r\n          setLoading(false);\r\n        });*/\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <Button onClick={openModal} className=\"bg-primary white\">\r\n        <PlusIcon /> Ajouter une épreuve\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={closeModal}\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        className=\"dialog\"\r\n      >\r\n        <DialogTitle>Ajouter une nouvelle épreuve</DialogTitle>\r\n        {progress && (\r\n          <div className=\"progress-container\">\r\n            <LinearProgress variant=\"determinate\" value={progress} />\r\n          </div>\r\n        )}\r\n        <DialogContent className={classes.dialogContent}>\r\n          <form>\r\n            <Box mt={4} mb={2}>\r\n              <input\r\n                type=\"file\"\r\n                id=\"fileInput\"\r\n                className={classes.textField}\r\n                name=\"file\"\r\n                hidden\r\n                label=\"Fichier (Video, PDF...)\"\r\n                onChange={handleFileChange}\r\n              />\r\n              <label htmlFor=\"fileInput\">\r\n                <Label>Fichier de l'épreuve</Label>\r\n                <Paper className=\"upload\">\r\n                  <Box mr={1}>\r\n                    {file ? (\r\n                      <Typography style={{ marginLeft: 6 }} variant=\"body2\">\r\n                        {file.name}\r\n                      </Typography>\r\n                    ) : (\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <UploadIcon style={{ marginRight: 6 }} />\r\n                        <Typography>\r\n                          Selectionner le fichier de l'épreuve\r\n                        </Typography>\r\n                      </div>\r\n                    )}\r\n                  </Box>\r\n                </Paper>\r\n              </label>\r\n            </Box>\r\n\r\n            <Box mt={3}>\r\n              <Label>Matière</Label>\r\n              <Select\r\n                value={category}\r\n                name=\"categories\"\r\n                onChange={handleCategoryChange}\r\n                fullWidth\r\n                className={classes.input}\r\n              >\r\n                {categories.map((cat, i) => (\r\n                  <option key={i} value={cat._id} className={classes.option}>\r\n                    {cat.name}\r\n                  </option>\r\n                ))}\r\n              </Select>\r\n            </Box>\r\n            <Box mt={3}>\r\n              <Label>Classe</Label>\r\n              <Select\r\n                value={level}\r\n                name=\"levels\"\r\n                onChange={handleLevelChange}\r\n                fullWidth\r\n                className={classes.input}\r\n              >\r\n                {levels.map((level, i) => (\r\n                  <option key={i} value={level._id} className={classes.option}>\r\n                    {level.name}\r\n                  </option>\r\n                ))}\r\n              </Select>\r\n            </Box>\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Box mt={2} mb={2}>\r\n            <Button\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={`${classes.submitBtn} white`}\r\n              onClick={handleSubmit}\r\n              type=\"submit\"\r\n            >\r\n              Ajouter\r\n              {loading && (\r\n                <CircularProgress size={20} className={classes.progress} />\r\n              )}{\" \"}\r\n            </Button>\r\n            <Button\r\n              style={{ marginRight: 14 }}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={closeModal}\r\n            >\r\n              Annuler\r\n            </Button>\r\n          </Box>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nAddBanque.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  handleAddBanque: PropTypes.func\r\n};\r\nexport default withStyles(styles)(AddBanque);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Btn from \"../layout/Btn\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\n//redux\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport storage from \"../../firebase\"\r\n\r\nfunction DeleteBanque({ handleDeleteBanque, id, name, isAdmin }) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  function handleOpen() {\r\n    setOpen(true);\r\n  }\r\n  function handleClose() {\r\n    setOpen(false);\r\n  }\r\n\r\n  function deleteBanque() {\r\n    storage.ref().child(`épreuves/${name}`).delete().then(res => {\r\n      axios.delete(`/banques/${id}`).then(() => {\r\n      handleDeleteBanque(id);\r\n      handleClose();\r\n    });\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isAdmin ? (\r\n        <Btn tip=\"Supprimer cette épreuve\" onClick={handleOpen}>\r\n          <DeleteOutline fontSize=\"small\" color=\"secondary\" />\r\n        </Btn>\r\n      ) : null}\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>\r\n          Etes-vous sûr de vouloir supprimer cette épreuve?\r\n        </DialogTitle>\r\n        <DialogActions>\r\n          <Button color=\"primary\" onClick={handleClose}>\r\n            Non\r\n          </Button>\r\n          <Button color=\"secondary\" onClick={deleteBanque}>\r\n            Oui\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nDeleteBanque.propTypes = {\r\n  isAdmin: PropTypes.bool.isRequired,\r\n  handleDeleteBanque: PropTypes.func.isRequired,\r\n  id: PropTypes.string.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAdmin: state.user.user && state.user.user.role === \"admin\"\r\n});\r\n\r\nexport default connect(mapStateToProps)(DeleteBanque);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\n\r\nimport moment from \"../../utils/moment\";\r\n\r\nimport Axios from \"axios\";\r\nimport AdminLayout from \"../../components/admin/AdminLayout\";\r\nimport AddBanque from \"../../components/admin/AddBanque\";\r\nimport DeleteBanque from \"../../components/admin/DeleteBanque\";\r\n\r\nfunction Banque() {\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [message, setMessage] = useState(null);\r\n  const [banques, setBanques] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    Axios.get(\"/banques\").then(res => {\r\n      setBanques(res.data);\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  function handleAddBanque(banque) {\r\n    const banks = [banque, ...banques];\r\n    setBanques(banks);\r\n    setMessage(\"Epreuve ajoutée avec succés\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  function handleDeleteBanque(id) {\r\n    const data = banques.filter(banque => banque._id !== id);\r\n    setBanques(data);\r\n    setMessage(\"Epreuve supprimée avec succés\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  return (\r\n    <AdminLayout>\r\n      <Paper className=\"table-container\">\r\n        {message && (\r\n          <Box mb={2}>\r\n            <Alert className=\"alert-message\">{message}</Alert>\r\n          </Box>\r\n        )}\r\n        <Box\r\n          className=\"d-flex justify-content-between align-items-center\"\r\n          p={2}\r\n          pt={4}\r\n        >\r\n          <Typography variant=\"h6\">Liste des épreuves</Typography>\r\n          <AddBanque handleAddBanque={handleAddBanque} />\r\n        </Box>\r\n        {loading && (\r\n          <>\r\n            {Array.from({ length: 8 }).map((_, i) => (\r\n              <div key={i} className=\"course-item-loading\" />\r\n            ))}\r\n          </>\r\n        )}\r\n        <Table>\r\n          <TableHead style={{ backgroundColor: \"#f5f5f5\" }}>\r\n            <TableRow>\r\n              <TableCell>Banque</TableCell>\r\n              <TableCell>Matière</TableCell>\r\n              <TableCell>Classe</TableCell>\r\n              <TableCell>Date</TableCell>\r\n              <TableCell>Options</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {banques.map((banque, i) => (\r\n              <TableRow className=\"table-row\" key={i}>\r\n                <TableCell>{banque.name}</TableCell>\r\n                <TableCell>{banque.category.name}</TableCell>\r\n                <TableCell>{banque.level.name}</TableCell>\r\n                <TableCell>\r\n                  {moment(banque.createdAt).format(\"dddd, DD MMM YYYY\")}\r\n                </TableCell>\r\n                <TableCell>\r\n                  <DeleteBanque\r\n                    id={banque._id}\r\n                    handleDeleteBanque={handleDeleteBanque}\r\n                    name={banque.name}\r\n                  />\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </AdminLayout>\r\n  );\r\n}\r\n\r\nexport default Banque;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\n//icons\r\nimport PlusIcon from \"@material-ui/icons/Add\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport axios from \"axios\";\r\nimport Btn from \"../layout/Btn\";\r\n\r\nconst styles = theme => ({\r\n  textField: {\r\n    marginTop: 10\r\n  },\r\n  option: {\r\n    paddingLeft: 14,\r\n    padding: 8,\r\n    \"&:hover\": {\r\n      backgroundColor: \"#f1f1f1\"\r\n    }\r\n  },\r\n  plusIcon: {},\r\n  submitBtn: {\r\n    marginRight: 14,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.dark\r\n    }\r\n  }\r\n});\r\n\r\nfunction AddCategory({\r\n  classes,\r\n  handleAddCategory,\r\n  id,\r\n  category_name,\r\n  handleUpdateCategory\r\n}) {\r\n  const [name, setName] = useState(\"\");\r\n  const [open, setOpen] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  function openModal() {\r\n    setOpen(true);\r\n    setName(category_name || \"\");\r\n  }\r\n  function closeModal() {\r\n    setOpen(false);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (error) setError(\"\");\r\n    if (!id) {\r\n      axios\r\n        .post(\"/categories\", { name })\r\n        .then(res => {\r\n          handleAddCategory(res.data);\r\n          setName(\"\");\r\n          closeModal();\r\n        })\r\n        .catch(e => setError(e.response.data.error));\r\n    } else {\r\n      if (category_name !== name) {\r\n        axios\r\n          .put(`/categories/${id}`, { name })\r\n          .then(res => {\r\n            handleUpdateCategory(res.data);\r\n            setName(\"\");\r\n            closeModal();\r\n          })\r\n          .catch(e => setError(e.response.data.error));\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {!id ? (\r\n        <Button onClick={openModal} className=\"bg-primary white\">\r\n          <PlusIcon /> Ajouter une matière\r\n        </Button>\r\n      ) : (\r\n        <Btn onClick={openModal} tip=\"Modifier\">\r\n          <EditIcon />\r\n        </Btn>\r\n      )}\r\n      <Dialog\r\n        open={open}\r\n        onClose={closeModal}\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        className=\"dialog\"\r\n      >\r\n        <DialogTitle>\r\n          {!id ? (\r\n            <>Ajouter une nouvelle matière</>\r\n          ) : (\r\n            <>Modifier cette matière</>\r\n          )}\r\n        </DialogTitle>\r\n        <DialogContent className={classes.dialogContent}>\r\n          <form>\r\n            <TextField\r\n              type=\"text\"\r\n              className={classes.textField}\r\n              name=\"name\"\r\n              label=\"Nom de la matière\"\r\n              value={name}\r\n              onChange={e => setName(e.target.value)}\r\n              placeholder=\"ex: Français\"\r\n              fullWidth\r\n              error={error.length > 0 ? true : false}\r\n              helperText={error}\r\n            />\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Box mt={2} mb={2}>\r\n            <Button\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={`${classes.submitBtn} white`}\r\n              onClick={handleSubmit}\r\n              type=\"submit\"\r\n            >\r\n              {!id ? <>Ajouter</> : <>Modifier</>}\r\n            </Button>\r\n            <Button\r\n              style={{ marginRight: 14 }}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={closeModal}\r\n            >\r\n              Annuler\r\n            </Button>\r\n          </Box>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\nAddCategory.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  id: PropTypes.string,\r\n  handleAddCategory: PropTypes.func,\r\n  handleUpdateCategory: PropTypes.func\r\n};\r\nexport default withStyles(styles)(AddCategory);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Btn from \"../layout/Btn\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\n//redux\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction DeleteCategory({ handleDeleteCategory, id, isAdmin }) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  function handleOpen() {\r\n    setOpen(true);\r\n  }\r\n  function handleClose() {\r\n    setOpen(false);\r\n  }\r\n\r\n  function deleteCategory() {\r\n    axios.delete(`/categories/${id}`).then(() => {\r\n      handleDeleteCategory(id);\r\n      handleClose();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isAdmin ? (\r\n        <Btn tip=\"Supprimer cette matière\" onClick={handleOpen}>\r\n          <DeleteOutline fontSize=\"small\" color=\"secondary\" />\r\n        </Btn>\r\n      ) : null}\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>\r\n          Etes-vous sûr de vouloir supprimer cette matière?\r\n        </DialogTitle>\r\n        <DialogActions>\r\n          <Button color=\"primary\" onClick={handleClose}>\r\n            Non\r\n          </Button>\r\n          <Button color=\"secondary\" onClick={deleteCategory}>\r\n            Oui\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nDeleteCategory.propTypes = {\r\n  isAdmin: PropTypes.bool.isRequired,\r\n  handleDeleteCategory: PropTypes.func.isRequired,\r\n  id: PropTypes.string.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAdmin: state.user.user && state.user.user.role === \"admin\"\r\n});\r\n\r\nexport default connect(mapStateToProps)(DeleteCategory);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\n//icons\r\nimport PlusIcon from \"@material-ui/icons/Add\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport axios from \"axios\";\r\nimport Btn from \"../layout/Btn\";\r\n\r\nconst styles = theme => ({\r\n  textField: {\r\n    marginTop: 10\r\n  },\r\n  option: {\r\n    paddingLeft: 14,\r\n    padding: 8,\r\n    \"&:hover\": {\r\n      backgroundColor: \"#f1f1f1\"\r\n    }\r\n  },\r\n  plusIcon: {},\r\n  submitBtn: {\r\n    marginRight: 14,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.dark\r\n    }\r\n  }\r\n});\r\n\r\nfunction AddLevel({\r\n  classes,\r\n  handleAddLevel,\r\n  id,\r\n  level_name,\r\n  handleUpdateLevel\r\n}) {\r\n  const [name, setName] = useState(\"\");\r\n  const [open, setOpen] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  function openModal() {\r\n    setOpen(true);\r\n    setName(level_name || \"\");\r\n  }\r\n  function closeModal() {\r\n    setOpen(false);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (error) setError(\"\");\r\n    if (!id) {\r\n      axios\r\n        .post(\"/levels\", { name })\r\n        .then(res => {\r\n          handleAddLevel(res.data);\r\n          setName(\"\");\r\n          closeModal();\r\n        })\r\n        .catch(e => setError(e.response.data.error));\r\n    } else {\r\n      if (level_name !== name) {\r\n        axios\r\n          .put(`/levels/${id}`, { name })\r\n          .then(res => {\r\n            handleUpdateLevel(res.data);\r\n            setName(\"\");\r\n            closeModal();\r\n          })\r\n          .catch(e => setError(e.response.data.error));\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {!id ? (\r\n        <Button onClick={openModal} className=\"bg-primary white hideForSmall\">\r\n          <PlusIcon /> Ajouter une classe\r\n        </Button>\r\n      ) : (\r\n        <Btn onClick={openModal} tip=\"Modifier\">\r\n          <EditIcon />\r\n        </Btn>\r\n      )}\r\n      <Btn tip=\"Ajouter une nouvelle classe\" btnClassName=\"showForSmall\">\r\n        <PlusIcon />\r\n      </Btn>\r\n      <Dialog\r\n        open={open}\r\n        onClose={closeModal}\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        className=\"dialog\"\r\n      >\r\n        <DialogTitle>\r\n          {!id ? <>Ajouter une nouvelle classe</> : <>Modifier cette classe</>}\r\n        </DialogTitle>\r\n        <DialogContent className={classes.dialogContent}>\r\n          <form>\r\n            <TextField\r\n              type=\"text\"\r\n              className={classes.textField}\r\n              name=\"name\"\r\n              label=\"Nom de la classe\"\r\n              value={name}\r\n              onChange={e => setName(e.target.value)}\r\n              placeholder=\"ex: Terminale\"\r\n              fullWidth\r\n              error={error.length > 0 ? true : false}\r\n              helperText={error}\r\n            />\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Box mt={2} mb={2}>\r\n            <Button\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={`${classes.submitBtn} white`}\r\n              onClick={handleSubmit}\r\n              type=\"submit\"\r\n            >\r\n              {!id ? <>Ajouter</> : <>Modifier</>}\r\n            </Button>\r\n            <Button\r\n              style={{ marginRight: 14 }}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={closeModal}\r\n            >\r\n              Annuler\r\n            </Button>\r\n          </Box>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\nAddLevel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  id: PropTypes.string,\r\n  handleAddLevel: PropTypes.func,\r\n  handleUpdateLevel: PropTypes.func\r\n};\r\nexport default withStyles(styles)(AddLevel);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Btn from \"../layout/Btn\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\n//redux\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction DeleteLevel({ handleDeleteLevel, id, isAdmin }) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  function handleOpen() {\r\n    setOpen(true);\r\n  }\r\n  function handleClose() {\r\n    setOpen(false);\r\n  }\r\n\r\n  function deleteLevel() {\r\n    axios.delete(`/levels/${id}`).then(() => {\r\n      handleDeleteLevel(id);\r\n      handleClose();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isAdmin ? (\r\n        <Btn tip=\"Supprimer cette classe\" onClick={handleOpen}>\r\n          <DeleteOutline fontSize=\"small\" color=\"secondary\" />\r\n        </Btn>\r\n      ) : null}\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>\r\n          Etes-vous sûr de vouloir supprimer cette classe?\r\n        </DialogTitle>\r\n        <DialogActions>\r\n          <Button color=\"primary\" onClick={handleClose}>\r\n            Non\r\n          </Button>\r\n          <Button color=\"secondary\" onClick={deleteLevel}>\r\n            Oui\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nDeleteLevel.propTypes = {\r\n  isAdmin: PropTypes.bool.isRequired,\r\n  handleDeleteLevel: PropTypes.func.isRequired,\r\n  id: PropTypes.string.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAdmin: state.user.user && state.user.user.role === \"admin\"\r\n});\r\n\r\nexport default connect(mapStateToProps)(DeleteLevel);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminLayout from \"../../components/admin/AdminLayout\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n\r\nimport axios from \"axios\";\r\nimport CategoryForm from \"../../components/admin/CategoryForm\";\r\nimport DeleteCategory from \"../../components/admin/DeleteCategory\";\r\nimport LevelForm from \"../../components/admin/LevelForm\";\r\nimport DeleteLevel from \"../../components/admin/DeleteLevel\";\r\nimport moment from \"../../utils/moment\";\r\n\r\nexport default function Categories() {\r\n  const [levels, setLevels] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/categories\").then(res => setCategories(res.data));\r\n    axios.get(\"/levels\").then(res => setLevels(res.data));\r\n  }, []);\r\n  function addCategory(cat) {\r\n    setCategories([cat, ...categories]);\r\n    setMessage(\"Matière ajoutée avec succés\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  function handleUpdateCategory(category) {\r\n    const cats = categories.map(cat => {\r\n      if (cat._id == category._id) {\r\n        return category;\r\n      } else {\r\n        return cat;\r\n      }\r\n    });\r\n    setCategories(cats);\r\n    setMessage(\"Matière modifiée avec succès\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  function handleDeleteCategory(id) {\r\n    const cats = categories.filter(cat => cat._id !== id);\r\n    setCategories(cats);\r\n    setMessage(\"Matière supprimée avec succés\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  function addLevel(level) {\r\n    setLevels([level, ...levels]);\r\n    setMessage(\"Classe ajoutée avec succès\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  function handleUpdateLevel(levelUpdated) {\r\n    const levls = levels.map(level => {\r\n      if (level._id == levelUpdated._id) {\r\n        return levelUpdated;\r\n      } else {\r\n        return level;\r\n      }\r\n    });\r\n    setLevels(levls);\r\n    setMessage(\"Classe modifiée avec succès\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  function handleDeleteLevel(id) {\r\n    const levelUpdated = levels.filter(level => level._id !== id);\r\n    setLevels(levelUpdated);\r\n    setMessage(\"Classe supprimée avec succés\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  return (\r\n    <AdminLayout>\r\n      <Grid container spacing={2}>\r\n        <Grid item md={6} xs={12}>\r\n          {message && (\r\n            <Box mb={2}>\r\n              <Alert className=\"alert-message\">{message}</Alert>\r\n            </Box>\r\n          )}\r\n          <Paper className=\"table-container\">\r\n            <Box\r\n              className=\"d-flex justify-content-between align-items-center\"\r\n              p={2}\r\n              pt={4}\r\n            >\r\n              <Typography variant=\"h6\">Liste des matières</Typography>\r\n              <CategoryForm handleAddCategory={addCategory} />\r\n            </Box>\r\n            <Table>\r\n              <TableHead style={{ backgroundColor: \"#f5f5f5\" }}>\r\n                <TableRow>\r\n                  <TableCell>Matières</TableCell>\r\n                  <TableCell>Date de création</TableCell>\r\n                  <TableCell>Options</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {categories.map((cat, i) => (\r\n                  <TableRow className=\"table-row\" key={i}>\r\n                    <TableCell>{cat.name}</TableCell>\r\n                    <TableCell>\r\n                      {moment(cat.createdAt).format(\"dddd, DD MMM YYYY\")}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <CategoryForm\r\n                        id={cat._id}\r\n                        category_name={cat.name}\r\n                        handleUpdateCategory={handleUpdateCategory}\r\n                      />\r\n                      <DeleteCategory\r\n                        id={cat._id}\r\n                        handleDeleteCategory={handleDeleteCategory}\r\n                      />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </Grid>\r\n\r\n        <Grid item md={6} xs={12}>\r\n          <Paper className=\"table-container\">\r\n            <Box\r\n              className=\"d-flex justify-content-between align-items-center\"\r\n              p={2}\r\n              pt={4}\r\n            >\r\n              <Typography variant=\"h6\">Liste des classes</Typography>\r\n              <LevelForm handleAddLevel={addLevel} />\r\n            </Box>\r\n            <Table>\r\n              <TableHead style={{ backgroundColor: \"#f5f5f5\" }}>\r\n                <TableRow>\r\n                  <TableCell>Niveaux</TableCell>\r\n                  <TableCell>Date de création</TableCell>\r\n                  <TableCell>Options</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {levels.map((level, i) => (\r\n                  <TableRow className=\"table-row\" key={i}>\r\n                    <TableCell>{level.name}</TableCell>\r\n                    <TableCell>\r\n                      {moment(level.createdAt).format(\"dddd, DD MMM YYYY\")}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <LevelForm\r\n                        id={level._id}\r\n                        level_name={level.name}\r\n                        handleUpdateLevel={handleUpdateLevel}\r\n                      />\r\n                      <DeleteLevel\r\n                        id={level._id}\r\n                        handleDeleteLevel={handleDeleteLevel}\r\n                      />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>{\" \"}\r\n        </Grid>\r\n      </Grid>\r\n    </AdminLayout>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n//MUI\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n//core\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Label from \"@material-ui/core/FormLabel\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\n//icons\r\nimport PlusIcon from \"@material-ui/icons/Add\";\r\nimport UploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport axios from \"axios\";\r\nimport useStorage from \"../../hooks/useStorage\";\r\n\r\nconst styles = theme => ({\r\n  dialogContent: {\r\n    \"& .upload\": {\r\n      padding: \"6px 16px\",\r\n      cursor: \"pointer\",\r\n      backgroundColor: \"#f5f5f5\",\r\n      marginTop: 6\r\n    }\r\n  },\r\n  textField: {\r\n    marginTop: 10\r\n  },\r\n  option: {\r\n    paddingLeft: 14,\r\n    padding: 8,\r\n    \"&:hover\": {\r\n      backgroundColor: \"#f1f1f1\"\r\n    }\r\n  },\r\n  submitBtn: {\r\n    marginRight: 14,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.dark\r\n    }\r\n  },\r\n  progress: {\r\n    position: \"absolute\",\r\n    color: theme.palette.primary.main\r\n  }\r\n});\r\n\r\nfunction AddAd({ classes, handleAddAd }) {\r\n  const [open, setOpen] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n    const { url, progress } = useStorage(file, \"pubs\", loading);\r\n\r\nuseEffect(() => {\r\n        const data = { title, content };\r\n\r\n    if (file && url) {\r\n      data.img = url\r\n      axios\r\n        .post(\"/ads\", data)\r\n        .then(res => {\r\n          handleAddAd(res.data);\r\n          closeModal();\r\n          setLoading(false);\r\n        })\r\n        .catch(e => {\r\n          console.error(e);\r\n          setLoading(false);\r\n        })\r\n    } else {\r\n      axios\r\n        .post(\"/ads\", data)\r\n        .then(res => {\r\n          handleAddAd(res.data);\r\n          closeModal();\r\n          setLoading(false);\r\n        })\r\n        .catch(e => {\r\n          console.error(e);\r\n          setLoading(false);\r\n        })\r\n    }\r\n  }, [url]);\r\n\r\n  function openModal() {\r\n    setOpen(true);\r\n  }\r\n  function closeModal() {\r\n    setOpen(false);\r\n    setTitle(\"\");\r\n    setContent(\"\");\r\n    setFile(null);\r\n  }\r\n  function handleFileChange(e) {\r\n    setFile(e.target.files[0]);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (title.length > 0 && content.length > 0) {\r\n      setLoading(true);\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <Button onClick={openModal} className=\"bg-primary white\">\r\n        <PlusIcon /> Créer une publicité\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={closeModal}\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        className=\"dialog\"\r\n      >\r\n        <DialogTitle>Créer une nouvelle publicité</DialogTitle>\r\n        <div className=\"progress-container\">\r\n          {progress && (\r\n            <LinearProgress variant=\"determinate\" value={progress} />\r\n          )}\r\n        </div>\r\n        <DialogContent className={classes.dialogContent}>\r\n          <form>\r\n            <titleField\r\n              type=\"text\"\r\n              className={classes.textField}\r\n              name=\"name\"\r\n              label=\"Titre\"\r\n              value={title}\r\n              onChange={e => setTitle(e.target.value)}\r\n              placeholder=\"Titre de la publicité\"\r\n              fullWidth\r\n            />\r\n            <TextField\r\n              type=\"text\"\r\n              className={classes.textField}\r\n              name=\"name\"\r\n              label=\"Contenu\"\r\n              value={content}\r\n              onChange={e => setContent(e.target.value)}\r\n              placeholder=\"Contenu de la publicité\"\r\n              fullWidth\r\n              multiline\r\n              rows=\"2\"\r\n            />\r\n            <Box mt={4} mb={2}>\r\n              <input\r\n                type=\"file\"\r\n                id=\"fileInput\"\r\n                className={classes.textField}\r\n                name=\"file\"\r\n                hidden\r\n                onChange={handleFileChange}\r\n              />\r\n              <label htmlFor=\"fileInput\">\r\n                <Label>Fichier de l'épreuve</Label>\r\n                <Paper className=\"upload\">\r\n                  <Box mr={1}>\r\n                    {file ? (\r\n                      <Typography style={{ marginLeft: 6 }} variant=\"body2\">\r\n                        {file.name}\r\n                      </Typography>\r\n                    ) : (\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <UploadIcon style={{ marginRight: 6 }} />\r\n                        <Typography>\r\n                          Selectionner l'image de la publicité (Optionnel)\r\n                        </Typography>\r\n                      </div>\r\n                    )}\r\n                  </Box>\r\n                </Paper>\r\n              </label>\r\n            </Box>\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Box mt={2} mb={2}>\r\n            <Button\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={`${classes.submitBtn} white`}\r\n              onClick={handleSubmit}\r\n              type=\"submit\"\r\n            >\r\n              Créer\r\n              {loading && (\r\n                <CircularProgress size={20} className={classes.progress} />\r\n              )}{\" \"}\r\n            </Button>\r\n            <Button\r\n              style={{ marginRight: 14 }}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={closeModal}\r\n            >\r\n              Annuler\r\n            </Button>\r\n          </Box>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nAddAd.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  handleAddAd: PropTypes.func\r\n};\r\nexport default withStyles(styles)(AddAd);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Btn from \"../layout/Btn\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\n//redux\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction DeleteAd({ handleDeleteAd, id, isAdmin }) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  function handleOpen() {\r\n    setOpen(true);\r\n  }\r\n  function handleClose() {\r\n    setOpen(false);\r\n  }\r\n\r\n  function deleteAd() {\r\n    axios.delete(`/ads/${id}`).then(() => {\r\n      handleDeleteAd(id);\r\n      handleClose();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isAdmin ? (\r\n        <Btn tip=\"Supprimer cette publicité\" onClick={handleOpen}>\r\n          <DeleteOutline fontSize=\"small\" color=\"secondary\" />\r\n        </Btn>\r\n      ) : null}\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Etes-vous sûr de vouloir supprimer cette pub?</DialogTitle>\r\n        <DialogActions>\r\n          <Button color=\"primary\" onClick={handleClose}>\r\n            Non\r\n          </Button>\r\n          <Button color=\"secondary\" onClick={deleteAd}>\r\n            Oui\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nDeleteAd.propTypes = {\r\n  isAdmin: PropTypes.bool.isRequired,\r\n  handleDeleteAd: PropTypes.func.isRequired,\r\n  id: PropTypes.string.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAdmin: state.user.user && state.user.user.role === \"admin\"\r\n});\r\n\r\nexport default connect(mapStateToProps)(DeleteAd);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\n\r\nimport moment from \"../../utils/moment\";\r\n\r\nimport Axios from \"axios\";\r\nimport AdminLayout from \"../../components/admin/AdminLayout\";\r\nimport AddAd from \"../../components/admin/AddAd\";\r\nimport DeleteAd from \"../../components/admin/DeleteAd\";\r\n\r\nfunction Ad() {\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [message, setMessage] = useState(null);\r\n  const [ads, setAds] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    Axios.get(\"/ads\").then(res => {\r\n      setAds(res.data);\r\n      console.log(res.data)\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  function handleAddAd(ad) {\r\n    const data = [ad, ...ads];\r\n    setAds(data);\r\n    setMessage(\"Publicité créée avec succés\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  function handleDeleteAd(id) {\r\n    const data = ads.filter(ad => ad._id !== id);\r\n    setAds(data);\r\n    setMessage(\"Publicité supprimée avec succés\");\r\n    setTimeout(() => {\r\n      setMessage(null);\r\n    }, 6000);\r\n  }\r\n  return (\r\n    <AdminLayout>\r\n      <Paper className=\"table-container\">\r\n        {message && (\r\n          <Box mb={2}>\r\n            <Alert className=\"alert-message\">{message}</Alert>\r\n          </Box>\r\n        )}\r\n        <Box\r\n          className=\"d-flex justify-content-between align-items-center\"\r\n          p={2}\r\n          pt={4}\r\n        >\r\n          <Typography variant=\"h6\">Publicités</Typography>\r\n          <AddAd handleAddAd={handleAddAd} />\r\n        </Box>\r\n\r\n        <Table>\r\n          <TableHead style={{ backgroundColor: \"#f5f5f5\" }}>\r\n            <TableRow>\r\n              <TableCell>Title</TableCell>\r\n              <TableCell>Contenu</TableCell>\r\n              <TableCell>Date</TableCell>\r\n              <TableCell>Options</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          {ads.length}\r\n          <TableBody>\r\n                      {ads.length > 0 && ads.map((ad, i) => (\r\n                        <TableRow className=\"table-row\" key={i}>\r\n                          <TableCell>{ad.title}</TableCell>\r\n                          <TableCell>{ad.content.substr(0, 50)}...</TableCell>\r\n                          <TableCell>\r\n                            {moment(ad.createdAt).format(\"dddd, DD MMM YYYY\")}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <DeleteAd id={ad._id} handleDeleteAd={handleDeleteAd} />\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                    </TableBody>\r\n        </Table>\r\n        {loading && (\r\n          <>\r\n            {Array.from({ length: 8 }).map((_, i) => (\r\n              <div key={i} className=\"course-item-loading\" />\r\n            ))}\r\n          </>\r\n        )}\r\n      </Paper>\r\n    </AdminLayout>\r\n  );\r\n}\r\n\r\nexport default Ad;\r\n","import {\r\n  SET_AUTHENTICATED,\r\n  SET_UNAUTHENTICATED,\r\n  SET_ERROR,\r\n  SET_LOADING\r\n} from \"../types\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  user: null,\r\n  error: null,\r\n  loading: false\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTHENTICATED:\r\n      return { ...state, isAuthenticated: true, error: null, user: action.payload.user };\r\n    case SET_UNAUTHENTICATED:\r\n      return initialState;\r\n    case SET_ERROR:\r\n      return { ...state, error: action.payload.error };\r\n    case SET_LOADING:\r\n      return { ...state, loading: action.payload.loading };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  ADD_NEW_COURSE,\r\n  GET_COURSES,\r\n  GET_COURSE,\r\n  DOWNLOAD_COURSE,\r\n  SET_LOADING_COURSES,\r\n  SET_LOADING_COURSE,\r\n  DELETE_COURSE,\r\n  ADD_COMMENT,\r\n  SET_ADDING_COMMENT,\r\n  DELETE_COMMENT\r\n} from \"../types\";\r\n\r\nconst initialState = {\r\n  courses: [],\r\n  course: null,\r\n  loading: false,\r\n  loading_course: false,\r\n  adding_comment: false\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_NEW_COURSE:\r\n      return {\r\n        ...state,\r\n        courses: [action.payload.newCourse, ...state.courses]\r\n      };\r\n    case GET_COURSES:\r\n      return { ...state, courses: action.payload.courses };\r\n    case DELETE_COURSE:\r\n      return {\r\n        ...state,\r\n        courses: state.courses.filter(\r\n          course => course._id !== action.payload.courseId\r\n        )\r\n      };\r\n    case GET_COURSE:\r\n      return { ...state, course: action.payload.course };\r\n    case SET_LOADING_COURSES:\r\n      return { ...state, loading: action.payload.loading };\r\n    case SET_LOADING_COURSE:\r\n      return { ...state, loading_course: action.payload.loading };\r\n    case DOWNLOAD_COURSE:\r\n      return {\r\n        ...state,\r\n        course: {\r\n          ...state.course,\r\n          downloadCount: state.course.downloadCount + 1\r\n        }\r\n      };\r\n    case SET_ADDING_COMMENT:\r\n      return { ...state, adding_comment: action.payload.adding_comment };\r\n\r\n    case ADD_COMMENT:\r\n      const commentsCount = state.course.commentsCount + 1;\r\n      const i = state.courses.findIndex(\r\n        course => course._id === state.course._id\r\n      );\r\n      const courses = state.courses.map((course, index) => {\r\n        if (index === i) {\r\n          return { ...state.courses[i], commentsCount };\r\n        } else {\r\n          return course;\r\n        }\r\n      });\r\n      return {\r\n        ...state,\r\n        courses,\r\n        course: {\r\n          ...state.course,\r\n          comments: [action.payload.comment, ...state.course.comments],\r\n          commentsCount\r\n        }\r\n      };\r\n\r\n    case DELETE_COMMENT:\r\n      const deleteCount = state.course.commentsCount - 1;\r\n      const comments = state.course.comments.filter(\r\n        comment => comment._id !== action.payload.commentId\r\n      );\r\n\r\n      const ind = state.courses.findIndex(\r\n        course => course._id === state.course._id\r\n      );\r\n      const coursesUpdated = state.courses.map((course, index) => {\r\n        if (index === ind) {\r\n          return { ...state.courses[ind], commentsCount: deleteCount };\r\n        } else {\r\n          return course;\r\n        }\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        courses: coursesUpdated,\r\n        course: {\r\n          ...state.course,\r\n          comments,\r\n          commentsCount: deleteCount\r\n        }\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport userReducer from \"./reducers/user\";\r\nimport courseReducer from \"./reducers/course\";\r\n\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\n\r\nconst reducers = combineReducers({\r\n  user: userReducer,\r\n  course: courseReducer\r\n});\r\nconst store = createStore(\r\n  reducers,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware)\r\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst AuthRoute = ({ component: Component, user, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        user ? <Component {...props} /> : <Redirect to=\"/inscription\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(AuthRoute);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst AdminRoute = ({ component: Component, user, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        user && user.role === \"admin\" ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdminRoute);\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\nimport axios from \"axios\";\n//components\nimport ScrollToTop from \"./ScrollToTop\";\n\n//Pages\nimport home from \"./pages/home\";\nimport login from \"./pages/login\";\nimport signup from \"./pages/signup\";\nimport profile from \"./pages/profile\";\nimport course from \"./pages/course\";\nimport courses from \"./pages/courses\";\nimport banque from \"./pages/banque\";\nimport about from \"./pages/about\";\nimport contact from \"./pages/contact\";\n\n//admin\nimport admin from \"./pages/admin/main\";\nimport users from \"./pages/admin/users\";\nimport banques from \"./pages/admin/banques\";\nimport Categories from \"./pages/admin/categories\";\nimport ads from \"./pages/admin/ads\";\n\n//redux\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport AuthRoute from \"./utils/AuthRoute\";\nimport AdminRoute from \"./utils/AdminRoute\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#003f88\"\n      //main: \"#4A675A\"\n    },\n    secondary: {\n      main: \"#c2185b\"\n    }\n  }\n});\n\nconst token = localStorage.JwtToken;\nif (token) {\n  const user = localStorage.user;\n  axios.defaults.headers.common[\"jwt\"] = token;\n  store.dispatch({\n    type: \"SET_AUTHENTICATED\",\n    payload: { user: JSON.parse(user) }\n  });\n}\n\nfunction App() {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Provider store={store}>\n        <Router>\n          <ScrollToTop />\n          <Switch>\n            <Route exact path=\"/\" component={home} />\n            <Route exact path=\"/cours\" component={courses} />\n            <Route exact path=\"/banque\" component={banque} />\n            <Route exact path=\"/a-propos\" component={about} />\n            <Route exact path=\"/contact\" component={contact} />\n\n            <AuthRoute exact path=\"/profile\" component={profile} />\n            <AuthRoute exact path=\"/cours/:id\" component={course} />\n            <Route exact path=\"/inscription\" component={signup} />\n            <Route exact path=\"/connexion\" component={login} />\n            <AdminRoute exact path=\"/admin/cours\" component={admin} />\n            <AdminRoute exact path=\"/admin/categories\" component={Categories} />\n            <AdminRoute exact path=\"/admin/banque\" component={banques} />\n            <AdminRoute exact path=\"/admin/utilisateurs\" component={users} />\n            <AdminRoute exact path=\"/admin/publicités\" component={ads} />\n          </Switch>\n        </Router>\n      </Provider>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}